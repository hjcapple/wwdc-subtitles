1
00:00:06,406 --> 00:00:07,541 line:0
（CarPlay车载系统进阶）


2
00:00:07,608 --> 00:00:10,477 line:0
大家好 我是Tom
来自Apple的汽车体验团队


3
00:00:10,544 --> 00:00:13,347 line:0
欢迎参加我们的CarPlay
车载系统改进演讲


4
00:00:15,182 --> 00:00:19,686 line:-2
你知道CarPlay车载是在车里
使用iPhone更智能安全的方式


5
00:00:20,621 --> 00:00:23,457 line:-2
iOS 13中有许多针对
CarPlay车载的更新


6
00:00:23,524 --> 00:00:25,592 line:-1
包括全新的CarPlay车载控制面板


7
00:00:25,659 --> 00:00:30,163 line:-2
可以轻松地浏览你的音乐、
导航以及Smart Siri建议


8
00:00:31,298 --> 00:00:34,368 line:-2
在本场演讲中
我们将向大家介绍车载系统整合功能


9
00:00:34,434 --> 00:00:36,737 line:-1
这是iOS 13中的新功能


10
00:00:37,538 --> 00:00:39,473 line:-1
今天我们所谈到的全部功能


11
00:00:39,540 --> 00:00:42,309 line:-1
都需要车载系统采用新API


12
00:00:42,376 --> 00:00:45,646 line:-2
在CarPlay车载Communication
插件R15中可用


13
00:00:47,514 --> 00:00:51,218 line:-2
今天我们将介绍CarPlay车载中
显示屏和音频的新功能


14
00:00:51,285 --> 00:00:53,787 line:-1
你以后可以在车载系统中使用


15
00:00:55,422 --> 00:00:56,290 line:-1
首先


16
00:00:56,356 --> 00:00:59,526 line:-2
让我们看看CarPlay车载如何支持
形状不规则的显示屏


17
00:01:00,727 --> 00:01:04,431 line:-2
车载系统决定了显示屏的
物理尺寸和分辨率


18
00:01:04,498 --> 00:01:08,101 line:-2
而iPhone将为那个尺寸
设置一个H.264视频流


19
00:01:08,168 --> 00:01:09,703 line:-1
将在显示屏中进行渲染


20
00:01:10,671 --> 00:01:12,005 line:-1
在iOS 13之前


21
00:01:12,072 --> 00:01:15,742 line:-2
会在视频屏幕上全屏显示
CarPlay车载UI


22
00:01:16,376 --> 00:01:19,847 line:-1
然而 有些汽车显示屏装有一些配饰


23
00:01:19,913 --> 00:01:22,749 line:-2
可能会掩盖CarPlay车载的
部分用户界面


24
00:01:23,050 --> 00:01:25,352 line:-1
限制使用一些触摸式控制


25
00:01:25,419 --> 00:01:26,486 line:-1
并阻止用户


26
00:01:26,553 --> 00:01:29,089 line:-1
查看UI的某些部分


27
00:01:30,591 --> 00:01:31,758 line:-1
在iOS 13中


28
00:01:31,825 --> 00:01:34,595 line:-2
CarPlay车载支持
形状不规则的显示屏


29
00:01:35,162 --> 00:01:37,464 line:-1
首先 你的系统定义了可视区域


30
00:01:37,698 --> 00:01:39,199 line:-1
这代表CarPlay车载


31
00:01:39,266 --> 00:01:42,503 line:-1
可以呈现用户界面图像的矩形


32
00:01:43,604 --> 00:01:46,440 line:-1
可视区域还包含安全区域


33
00:01:47,407 --> 00:01:52,145 line:-2
安全区域也是一个矩形
并且一定是可视区域的子集


34
00:01:53,614 --> 00:01:56,183 line:-1
安全区域代表那部分显示屏


35
00:01:56,250 --> 00:01:58,252 line:-1
将包含交互内容


36
00:01:58,752 --> 00:02:02,022 line:-2
这包括用户界面元素
比如按钮和列表


37
00:02:02,089 --> 00:02:05,659 line:-2
以及重要的状态信息
比如时间、信号强度


38
00:02:05,726 --> 00:02:07,394 line:-1
以及路径导航信息


39
00:02:07,794 --> 00:02:12,099 line:-2
iPhone将在安全区域范围内
构建交互内容


40
00:02:13,667 --> 00:02:16,503 line:-2
现代的汽车显示屏可以是
许多不同的形状和尺寸


41
00:02:16,737 --> 00:02:19,006 line:-1
显示屏自身也许不是矩形的


42
00:02:19,072 --> 00:02:22,509 line:-2
或者显示屏的一部分
可能会被其它元素占据


43
00:02:23,010 --> 00:02:25,546 line:-2
在iOS 13中
CarPlay车载可以使用安全区域


44
00:02:25,612 --> 00:02:28,382 line:-1
来更好地支持非矩形显示屏


45
00:02:28,982 --> 00:02:31,585 line:-1
首先 系统定义一个可视区域


46
00:02:32,252 --> 00:02:33,820 line:-1
在这种情况下 可视区域矩形


47
00:02:33,887 --> 00:02:36,990 line:-1
将由显示屏的最宽和最高点决定


48
00:02:37,291 --> 00:02:40,861 line:-2
这就允许CarPlay车载图像
渲染到整个显示屏上


49
00:02:41,628 --> 00:02:43,197 line:-1
然后安全区域矩形


50
00:02:43,263 --> 00:02:45,399 line:-1
将在CarPlay车载UI


51
00:02:45,465 --> 00:02:48,168 line:-1
确保用户可见


52
00:02:48,235 --> 00:02:50,304 line:-1
并可交互的显示屏部分进行声明


53
00:02:51,872 --> 00:02:54,675 line:-2
这就是我们在形状不规则的
显示屏上的更新


54
00:02:56,510 --> 00:02:59,980 line:-2
接下来让我们谈谈
CarPlay车载中对于第二屏幕的支持


55
00:03:01,014 --> 00:03:02,549 line:-1
在iOS 13之前


56
00:03:02,616 --> 00:03:05,419 line:-2
iPhone提供单一的
H.264视频屏幕


57
00:03:05,485 --> 00:03:08,722 line:-2
用于在显示屏的中央控制台中
显示CarPlay车载UI


58
00:03:09,289 --> 00:03:12,993 line:-2
这为用户提供了一种很好的方式
可以设置导航目的地


59
00:03:13,060 --> 00:03:15,329 line:-1
以及与音乐app等进行交互


60
00:03:15,863 --> 00:03:20,000 line:-2
但这把用户CarPlay车载体验
限制在了汽车的主显示屏上


61
00:03:21,535 --> 00:03:24,705 line:-2
许多汽车在驾驶位正前方
都有许多显示屏


62
00:03:24,771 --> 00:03:27,941 line:-2
用于显示重要信息
以仪表板的形式出现


63
00:03:28,442 --> 00:03:32,913 line:-2
在iOS 13中
我们支持多个H.264视频流


64
00:03:32,980 --> 00:03:36,283 line:-2
用于在汽车的仪表板中
显示CarPlay车载内容


65
00:03:36,917 --> 00:03:40,020 line:-1
这个方法很棒 可以直接在仪表板中


66
00:03:40,087 --> 00:03:42,089 line:-2
显示CarPlay车载app的
附加信息


67
00:03:44,191 --> 00:03:46,093 line:-1
并且可以在仪表板的不同区域


68
00:03:46,159 --> 00:03:48,228 line:-1
显示不同类型的信息


69
00:03:48,295 --> 00:03:50,097 line:-1
通过一个以上的视频流


70
00:03:51,665 --> 00:03:55,269 line:-2
iOS 13中CarPlay车载
支持机动指令卡


71
00:03:55,335 --> 00:03:56,803 line:-1
由Apple Maps提供


72
00:03:57,371 --> 00:03:58,505 line:-1
以及地图视图


73
00:03:58,572 --> 00:04:01,208 line:-1
可以通过指令卡同时进行渲染


74
00:04:01,275 --> 00:04:03,210 line:-1
在两个独立的视频流中


75
00:04:04,378 --> 00:04:07,114 line:-1
每个视频流都拥有独立的夜间模式


76
00:04:07,181 --> 00:04:09,850 line:-1
允许车载系统为不同内容类型


77
00:04:09,917 --> 00:04:11,451 line:-1
指定外观模式


78
00:04:12,219 --> 00:04:16,557 line:-2
同时车载系统选择在每个视频流中
显示哪种类型的内容


79
00:04:16,790 --> 00:04:17,791 line:-1
对于仪表板


80
00:04:17,858 --> 00:04:20,427 line:-1
CarPlay车载将只显示


81
00:04:20,494 --> 00:04:21,928 line:-1
汽车所选择的内容类型


82
00:04:22,729 --> 00:04:25,032 line:-1
但请注意对于平视显示器来说


83
00:04:25,098 --> 00:04:28,702 line:-2
将继续使用来自
iAP2 Route Guidance的信息


84
00:04:28,769 --> 00:04:30,137 line:-1
那么考虑到这个


85
00:04:30,204 --> 00:04:33,307 line:-2
让我们来看看
如何最好地利用不同的原型


86
00:04:33,373 --> 00:04:36,109 line:-2
把CarPlay车载
整合到汽车仪表板中


87
00:04:36,810 --> 00:04:40,647 line:-2
可以从CarPlay车载的app中
提供给用户简单的状态信息


88
00:04:40,714 --> 00:04:43,684 line:-1
比如导航、音频和来电


89
00:04:44,418 --> 00:04:48,622 line:-1
首先可以视频形式显示


90
00:04:48,689 --> 00:04:50,090 line:-1
来自iPhone的地图或导航信息


91
00:04:50,457 --> 00:04:52,526 line:-2
还可以使用
iAP2 Route Guidance功能


92
00:04:52,593 --> 00:04:57,231 line:-2
以元数据形式提供
关于导航路线的附加信息


93
00:04:57,831 --> 00:05:00,267 line:-1
这跟其它的iAP2功能一样


94
00:05:00,334 --> 00:05:04,104 line:-2
要求车载系统
在自己的本地UI中获取元数据


95
00:05:04,705 --> 00:05:08,642 line:-2
当前所播放的音乐或广播 可以使用
iAP2 Now Playing渲染


96
00:05:08,709 --> 00:05:11,712 line:-1
并使用iAP2 Communications功能


97
00:05:11,778 --> 00:05:14,281 line:-1
处理正在进行中的来电的相关信息


98
00:05:15,115 --> 00:05:19,453 line:-2
可以使用iAP2 Call Controls
控制这些来电


99
00:05:19,520 --> 00:05:22,990 line:-2
允许系统在来电时
提供指定的用户操作


100
00:05:23,056 --> 00:05:23,891 line:-1
比如静音


101
00:05:24,458 --> 00:05:25,325 line:-1
切换通话


102
00:05:26,093 --> 00:05:27,060 line:-1
以及挂掉电话


103
00:05:29,196 --> 00:05:31,398 line:-1
在仪表板中显示CarPlay车载内容


104
00:05:31,465 --> 00:05:33,100 line:-1
是车载系统另一个受益于


105
00:05:33,166 --> 00:05:36,069 line:-1
使用安全区域和可视区域的部分


106
00:05:36,670 --> 00:05:39,373 line:-1
在这个例子中 可视区域是指


107
00:05:39,439 --> 00:05:42,209 line:-1
虚拟转速表之间及其背后的矩形


108
00:05:42,709 --> 00:05:46,813 line:-2
从审美角度来说 在这个区域填充
CarPlay车载内容可能很合适


109
00:05:46,880 --> 00:05:49,516 line:-2
其中有些内容
可能会被虚拟转速表掩盖住


110
00:05:49,783 --> 00:05:53,687 line:-2
因此应该在两个转速表之间
规定一个安全区域


111
00:05:53,754 --> 00:05:56,290 line:-1
这样CarPlay车载将会


112
00:05:56,356 --> 00:05:57,991 line:-1
在用户可见的区域显示重要信息


113
00:05:59,526 --> 00:06:03,130 line:-2
可以设置多个视频流来显示
来自CarPlay车载的不同类型的内容


114
00:06:03,197 --> 00:06:04,498 line:-1
在仪表板中


115
00:06:05,065 --> 00:06:07,534 line:-1
比如第二个视频流可以是地图视图


116
00:06:07,601 --> 00:06:09,870 line:-1
第三个视频流可以是指令卡


117
00:06:11,104 --> 00:06:13,340 line:-1
在虚拟转速表中显示内容


118
00:06:13,407 --> 00:06:16,310 line:-1
也将充分利用可视区域和安全区域


119
00:06:17,077 --> 00:06:20,714 line:-1
包含整个圆形的矩形将作为可视区域


120
00:06:20,781 --> 00:06:23,951 line:-1
而完全包含在圆形内部的矩形


121
00:06:24,017 --> 00:06:25,185 line:-1
将作为安全区域


122
00:06:25,752 --> 00:06:29,022 line:-1
再说一次CarPlay车载


123
00:06:29,089 --> 00:06:30,824 line:-1
将在用户可视的区域内显示重要信息


124
00:06:31,959 --> 00:06:34,761 line:-1
那么这就是我们关于第二屏幕的更新


125
00:06:36,430 --> 00:06:38,665 line:-2
现在让我们看看最后一个影响
CarPlay车载显示屏的新功能


126
00:06:38,732 --> 00:06:42,603 line:-1
就是改变动态屏幕的尺寸


127
00:06:43,604 --> 00:06:46,340 line:-2
在iOS 13之前
CarPlay车载图像的尺寸


128
00:06:46,406 --> 00:06:49,176 line:-2
一直都是固定的
而CarPlay车载会话是激活的


129
00:06:49,476 --> 00:06:51,678 line:-1
现在CarPlay车载UI的尺寸


130
00:06:51,745 --> 00:06:54,181 line:-1
可以按照用户需求进行即时变更


131
00:06:54,481 --> 00:06:57,084 line:-1
通过为该显示屏声明多个可视区域


132
00:06:57,851 --> 00:07:01,522 line:-1
这对于诸如此类支持可配置


133
00:07:01,588 --> 00:07:02,990 line:-1
水平拆分屏幕的系统来说非常棒


134
00:07:03,056 --> 00:07:04,424 line:-1
还有较大的纵向屏幕


135
00:07:04,491 --> 00:07:07,995 line:-1
通常划分为不同的特定情境的区域


136
00:07:08,529 --> 00:07:10,864 line:-2
CarPlay车载
可以提供总是可用按钮


137
00:07:10,931 --> 00:07:14,768 line:-2
可以让用户在CarPlay车载
UI内部触发一个重新调整尺寸请求


138
00:07:15,836 --> 00:07:19,006 line:-2
这可以帮助在全屏配置中
显示CarPlay车载


139
00:07:19,072 --> 00:07:22,609 line:-1
而不需要在本地UI中保留


140
00:07:22,676 --> 00:07:24,878 line:-1
专用于控制退出配置的区域


141
00:07:26,680 --> 00:07:29,783 line:-2
不仅支持在显示屏的中央控制台中
重新调整尺寸


142
00:07:29,850 --> 00:07:31,785 line:-1
还支持在仪表板中重新调整尺寸


143
00:07:32,853 --> 00:07:35,656 line:-1
让我们以刚才讲到的仪表板为例


144
00:07:35,722 --> 00:07:39,193 line:-2
演示如何在CarPlay车载中
动态地重新调整尺寸


145
00:07:40,194 --> 00:07:41,895 line:-1
假如这块仪表板


146
00:07:41,962 --> 00:07:44,798 line:-1
可以允许用户把虚拟转速表


147
00:07:44,865 --> 00:07:47,367 line:-1
移动到两个优选位置中的一个位置


148
00:07:48,936 --> 00:07:49,970 line:-1
为此


149
00:07:50,037 --> 00:07:52,372 line:-2
CarPlay车载图像
需要能调整它自己的尺寸


150
00:07:52,439 --> 00:07:55,042 line:-1
根据虚拟转速表所在的位置


151
00:07:56,343 --> 00:07:59,980 line:-2
为此可以对这块显示屏
声明多个可视区域


152
00:08:00,547 --> 00:08:03,650 line:-2
让我们声明第一个可视区域
采用最宽的配置


153
00:08:03,717 --> 00:08:06,053 line:-2
并包含一个
我们之前讨论过的安全区域


154
00:08:08,088 --> 00:08:09,489 line:-1
对于较窄的配置


155
00:08:09,556 --> 00:08:13,227 line:-2
需要使用第二可视区域
并拥有它自己的较窄的安全区域


156
00:08:14,027 --> 00:08:15,896 line:-1
车载系统还可以指定


157
00:08:15,963 --> 00:08:18,866 line:-1
这些配置之间的过渡长度


158
00:08:19,266 --> 00:08:23,270 line:-2
从而在同一个时间框架中
转换CarPlay车载内容的尺寸


159
00:08:24,037 --> 00:08:26,373 line:-1
让我们看看如何转换


160
00:08:28,175 --> 00:08:32,346 line:-2
用户一开始是在较宽的配置中
使用了一些本地UI控制


161
00:08:32,412 --> 00:08:35,048 line:-2
可能是一个方向盘按钮
然后开始转换


162
00:08:37,049 --> 00:08:40,254 line:-2
在这个三秒的转换期内
CarPlay车载会告诉本地系统


163
00:08:40,320 --> 00:08:43,222 line:-1
H.264框架中编码图像的尺寸


164
00:08:43,423 --> 00:08:44,591 line:-1
允许车载系统


165
00:08:44,658 --> 00:08:47,794 line:-2
同步定位它自己的
转速表UI元素的位置


166
00:08:48,228 --> 00:08:49,129 line:-1
那么总的来说


167
00:08:49,997 --> 00:08:52,599 line:-1
中央控制台和仪表板显示屏


168
00:08:52,666 --> 00:08:54,501 line:-1
都支持动态地重新调整尺寸


169
00:08:55,435 --> 00:08:57,704 line:-1
重新调整UI的尺寸可以由用户触发


170
00:08:57,771 --> 00:09:01,141 line:-2
无论通过本地或CarPlay车
载UI中的按钮触发


171
00:09:02,309 --> 00:09:03,210 line:-1
车载系统


172
00:09:03,277 --> 00:09:06,146 line:-1
要声明可视区域之间需要多长的过渡


173
00:09:07,881 --> 00:09:11,485 line:-2
并且CarPlay车载提供更新
关于可视区域转换


174
00:09:11,552 --> 00:09:15,455 line:-2
以便车载系统
可以在自己的UI中同步动画


175
00:09:17,191 --> 00:09:19,793 line:-1
这就是关于显示屏的全部新功能


176
00:09:20,093 --> 00:09:21,461 line:-1
感谢大家的聆听


177
00:09:21,762 --> 00:09:24,965 line:-2
现在我要把舞台交给Tanya
她会分享CarPlay车载中关于Siri的更新


178
00:09:25,632 --> 00:09:26,500 line:-1
谢谢Tom


179
00:09:26,867 --> 00:09:28,402 line:-1
我是Tanya Kancheva


180
00:09:28,468 --> 00:09:33,273 line:-2
我将分享如何在车载系统中
启动Hey Siri支持


181
00:09:34,041 --> 00:09:35,108 line:-1
那么当我们谈到在车载系统中


182
00:09:35,175 --> 00:09:38,312 line:-2
支持Hey Siri时
我们指的是什么？


183
00:09:39,346 --> 00:09:40,547 line:-1
首先 当然了


184
00:09:40,781 --> 00:09:43,984 line:-2
驾驶员可以不通过双手操作
就完全启动Siri


185
00:09:44,051 --> 00:09:48,155 line:-2
完全不需要按动按钮
眼睛也无需离开正在行驶的道路


186
00:09:48,956 --> 00:09:52,793 line:-2
自从能使用汽车的麦克风
检测到Hey Siri以来


187
00:09:53,093 --> 00:09:57,731 line:-2
iPhone就可以不用放在眼前了
可以放在口袋里或甚至是行李箱里


188
00:09:58,165 --> 00:10:00,133 line:-1
Siri都仍然可用


189
00:10:01,802 --> 00:10:03,971 line:-1
我们还升级了音频处理


190
00:10:04,037 --> 00:10:08,442 line:-2
从而可以通过按下按钮
瞬间激活Siri


191
00:10:08,876 --> 00:10:11,712 line:-2
你只需要按住方向盘上的
Siri按钮


192
00:10:11,778 --> 00:10:12,913 line:-1
并说出你的需求即可


193
00:10:12,980 --> 00:10:15,716 line:-1
不需要等待声音触发器发声


194
00:10:16,216 --> 00:10:19,219 line:-1
Siri会立即返回给你答案


195
00:10:21,321 --> 00:10:25,526 line:-2
最后我们查看了Siri与Music
如何在车载系统中相互影响


196
00:10:25,592 --> 00:10:28,996 line:-2
并提供一个更加流畅
和更加熟悉的体验


197
00:10:29,563 --> 00:10:33,934 line:-2
当你与Siri互动时
会在后台继续播放音乐


198
00:10:37,237 --> 00:10:40,807 line:-2
这是在CarPlay车载中
音频处理的系统概览


199
00:10:41,275 --> 00:10:44,545 line:-1
其中一些内容你们应该已经很熟悉了


200
00:10:44,778 --> 00:10:47,147 line:-1
但让我们继续看看细节


201
00:10:48,248 --> 00:10:49,750 line:0
要支持Hey Siri


202
00:10:49,816 --> 00:10:53,153 line:0
汽车内置麦克风需要一直保持激活


203
00:10:53,787 --> 00:10:56,657 line:0
并可进行连续的语音处理


204
00:10:57,624 --> 00:11:00,661 line:0
回音取消模块要保持运行


205
00:11:00,727 --> 00:11:03,964 line:0
并移除通过车载音响
播放的任意音频内容


206
00:11:04,031 --> 00:11:07,100 line:0
并减少背景噪音


207
00:11:09,169 --> 00:11:13,040 line:0
麦克风数据
发送给音频唤醒缓冲区的过程


208
00:11:13,106 --> 00:11:15,576 line:0
在CarPlay车载
Communication插件内


209
00:11:15,642 --> 00:11:19,112 line:0
可以录制数秒钟的历史音频


210
00:11:19,580 --> 00:11:22,015 line:0
缓冲器存储在车载系统内


211
00:11:22,082 --> 00:11:24,952 line:0
除非有触发器把它
发送给iPhone


212
00:11:26,053 --> 00:11:27,521 line:-1
那么这个触发器是什么？


213
00:11:28,188 --> 00:11:30,090 line:-1
事实上有两个模块


214
00:11:30,157 --> 00:11:32,793 line:-2
可以使车载系统
与iPhone交换音频


215
00:11:33,360 --> 00:11:37,030 line:-2
两个模块都会不间断地
分析处理麦克风数据


216
00:11:37,564 --> 00:11:40,400 line:-2
其中一个可以当驾驶员
说出Siri时触发


217
00:11:40,467 --> 00:11:42,202 line:-1
这是关键字检测器


218
00:11:42,636 --> 00:11:46,173 line:-1
另一个可以当驾驶员开始谈话时触发


219
00:11:46,240 --> 00:11:48,342 line:-1
这是声音活动检测器


220
00:11:49,076 --> 00:11:52,112 line:-2
在车载系统中
这两个检测器都必须可用


221
00:11:52,179 --> 00:11:56,617 line:-2
因为iPhone会决定
在特定情境下要使用哪个检测器


222
00:11:58,085 --> 00:12:01,221 line:-1
现在假如触发了关键字检测器


223
00:12:01,421 --> 00:12:05,425 line:-2
那么车载系统通过通讯插件
通知iPhone


224
00:12:06,727 --> 00:12:10,898 line:-2
iPhone打开一个新的音频流
叫做Aux In


225
00:12:10,964 --> 00:12:14,468 line:-1
请求发送一些历史音频数据


226
00:12:15,435 --> 00:12:21,642 line:-2
所接收音频由iPhone上的一个
声音触发器检测器进行重新分析


227
00:12:21,842 --> 00:12:24,978 line:-1
当用户说“Hey Siri”时会进行识别


228
00:12:25,779 --> 00:12:30,551 line:-2
第二个传输检测器在iPhone上
使用了离线关键字检测


229
00:12:30,784 --> 00:12:35,355 line:-2
类似于用户没开车时
对Hey Siri的检测方式


230
00:12:36,423 --> 00:12:40,360 line:-2
只有当触发了iPhone上的
第二个传输检测器时


231
00:12:41,195 --> 00:12:45,532 line:-2
Siri才会被激活
并处理数据以及响应用户


232
00:12:47,968 --> 00:12:53,040 line:-2
现在让我们看看这个架构
如何帮助我们改善触发Siri


233
00:12:53,106 --> 00:12:54,541 line:-1
通过按一个按钮


234
00:12:55,309 --> 00:13:00,814 line:-2
正如我们已经看到的那样
麦克风、ECNR装置和音频环形缓冲区


235
00:13:00,881 --> 00:13:04,651 line:-1
会在车载系统内同时处理音频


236
00:13:06,587 --> 00:13:10,490 line:-2
现在用户按了方向盘上的
Siri按钮


237
00:13:10,858 --> 00:13:14,995 line:-1
那会触发iPhone请求


238
00:13:15,062 --> 00:13:17,965 line:-1
自用户按下按钮之时起的音频数据


239
00:13:18,532 --> 00:13:22,603 line:-2
因为按动了按钮
因此会立即激活Siri


240
00:13:22,970 --> 00:13:26,740 line:-1
并且因为缓冲音频比实施音频传输快


241
00:13:27,107 --> 00:13:31,812 line:-2
Siri可以在用户停止谈话后
立即进行响应


242
00:13:33,380 --> 00:13:34,214 line:-1
好的


243
00:13:34,481 --> 00:13:39,720 line:-2
现在我们已经讨论了从车载系统中
触发Siri的三种方式


244
00:13:40,320 --> 00:13:44,725 line:-2
通过已检测的关键字、
声音活动或按下按钮


245
00:13:45,125 --> 00:13:49,162 line:-2
让我们看看当Siri激活后
会发生什么以及如何帮助驾驶员


246
00:13:50,797 --> 00:13:53,767 line:-1
一般来说我们通常会在车里播放音乐


247
00:13:54,301 --> 00:13:55,135 line:-1
在这种情况下


248
00:13:55,202 --> 00:13:58,071 line:-1
假如音乐来自iPhone


249
00:13:58,739 --> 00:14:03,277 line:-2
车载系统将接收音频 混合它
并通过车载音响进行播放


250
00:14:03,610 --> 00:14:08,215 line:-2
以前当CarPlay车载启动Siri时
需要停止播放音乐


251
00:14:08,282 --> 00:14:11,852 line:-2
并且在播放Siri提示言之前
会有一段无声时间


252
00:14:12,653 --> 00:14:14,154 line:-1
在这个新架构中


253
00:14:14,388 --> 00:14:17,691 line:-1
媒体播放和Siri提示言分开了


254
00:14:17,991 --> 00:14:20,994 line:-1
因此可以一直在后台播放音乐


255
00:14:22,029 --> 00:14:23,430 line:-1
当Siri启动后


256
00:14:23,497 --> 00:14:27,034 line:-2
会输出一个Siri专用的
附加的音频流


257
00:14:27,467 --> 00:14:29,570 line:-1
将打开Aux Out


258
00:14:30,103 --> 00:14:36,743 line:-2
然后车载系统将混合两个音频流
并按照需要调低音乐的音量


259
00:14:36,810 --> 00:14:40,914 line:-2
并快速播放Siri的提示音
而不需要很长时间的中断


260
00:14:42,516 --> 00:14:46,286 line:-1
但请不要忘记除了Siri提示音


261
00:14:46,854 --> 00:14:49,590 line:-1
还可能会有激活的路径导航音


262
00:14:49,656 --> 00:14:53,861 line:-1
因此混音器需要能混合三种


263
00:14:53,927 --> 00:14:55,162 line:-1
来自iPhone的平行的音频流


264
00:14:57,064 --> 00:14:57,898 line:-1
好的


265
00:14:58,232 --> 00:15:01,869 line:-2
现在我们已经了解了
音频架构的详细信息


266
00:15:02,135 --> 00:15:06,940 line:-2
让我们快速总结一下
车载系统所需要配备的东西


267
00:15:07,941 --> 00:15:09,643 line:-1
首先是麦克风


268
00:15:09,710 --> 00:15:12,546 line:-1
它会一直处理车载系统中的音频


269
00:15:13,614 --> 00:15:16,617 line:-1
然后是回音消除器和降噪模块


270
00:15:16,683 --> 00:15:18,519 line:-1
以便清理麦克风输入


271
00:15:20,020 --> 00:15:23,357 line:-2
一个可以当驾驶员谈话时
触发的检测器


272
00:15:25,025 --> 00:15:28,629 line:-2
一个可以当听到Siri关键字时
触发的检测器


273
00:15:30,831 --> 00:15:34,301 line:-2
可以混合来自CarPlay车载的
三种音频流


274
00:15:36,703 --> 00:15:39,072 line:-1
那么这就是关于Hey Siri的更新


275
00:15:40,841 --> 00:15:42,176 line:-1
谢谢大家


276
00:15:42,709 --> 00:15:46,380 line:-2
要获取更多信息请查看
developer.apple.com


277
00:15:47,080 --> 00:15:49,516 line:-2
希望大家尽情享受
装配有CarPlay车载的车程

