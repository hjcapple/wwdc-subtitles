1
00:00:01,516 --> 00:00:04,500
[音乐]


2
00:00:12,086 --> 00:00:12,826
>> 大家好


3
00:00:13,556 --> 00:00:14,326
我是 Dan


4
00:00:14,716 --> 00:00:15,636
我是辅助功能组的


5
00:00:15,636 --> 00:00:17,316
一名工程师


6
00:00:17,316 --> 00:00:18,506
我非常开心能够向大家


7
00:00:18,506 --> 00:00:20,086
介绍辅助功能自定义操作


8
00:00:20,086 --> 00:00:21,696
以及如何能够


9
00:00:21,696 --> 00:00:23,336
通过在 App 中使用


10
00:00:23,336 --> 00:00:25,346
辅助技术来增进体验的


11
00:00:25,996 --> 00:00:26,646
让我们开始吧


12
00:00:28,016 --> 00:00:29,656
自定义操作有


13
00:00:29,656 --> 00:00:30,386
两大优势


14
00:00:31,106 --> 00:00:32,826
第一个优势是减少


15
00:00:32,826 --> 00:00:33,206
你的 App 中的杂乱


16
00:00:34,246 --> 00:00:35,436
这对所有


17
00:00:35,436 --> 00:00:37,026
使用 App 的人都很重要


18
00:00:37,026 --> 00:00:38,256
但是对于那些使用辅助技术的人


19
00:00:38,256 --> 00:00:39,796
来说尤为重要


20
00:00:40,056 --> 00:00:40,916
我后面会解释原因


21
00:00:41,816 --> 00:00:43,346
第二个优势是关于


22
00:00:43,346 --> 00:00:44,736
提升 App 中


23
00:00:44,736 --> 00:00:46,066
较为复杂的交互的


24
00:00:46,066 --> 00:00:47,906
便利性和速度


25
00:00:48,966 --> 00:00:50,216
我们先从


26
00:00:50,216 --> 00:00:52,426
减少杂乱开始


27
00:00:52,426 --> 00:00:53,786
为此我想先讲一下旁白


28
00:00:54,746 --> 00:00:55,986
旁白是一种内置的屏幕朗读器


29
00:00:55,986 --> 00:00:57,076
是我们为了方便


30
00:00:57,076 --> 00:00:58,246
那些盲人或低视力的人


31
00:00:58,246 --> 00:00:59,406
使用我们的产品所做的


32
00:01:00,486 --> 00:01:01,746
使用旁白的人能够


33
00:01:01,746 --> 00:01:02,886
通过多种方式来


34
00:01:02,886 --> 00:01:04,936
浏览他们的 App


35
00:01:04,995 --> 00:01:06,616
但是其中最受欢迎的


36
00:01:06,616 --> 00:01:07,986
浏览一个新的 App 或


37
00:01:07,986 --> 00:01:10,066
界面的方式是左划或


38
00:01:10,066 --> 00:01:11,606
右划来在上一个和


39
00:01:11,606 --> 00:01:12,366
下一个项目之间移动


40
00:01:13,066 --> 00:01:15,756
我有一个一直在做的 App


41
00:01:15,756 --> 00:01:16,866
帮助我追踪我最喜欢的


42
00:01:16,866 --> 00:01:17,586
花生酱品类


43
00:01:18,146 --> 00:01:19,486
如果你打算在不使用


44
00:01:19,486 --> 00:01:22,066
旁白的情况下使用这个App


45
00:01:22,066 --> 00:01:23,326
而我们希望提高


46
00:01:23,326 --> 00:01:24,466
这个列表中的第二罐花生酱的评级


47
00:01:24,466 --> 00:01:26,886
那么我们


48
00:01:26,886 --> 00:01:27,476
应该怎么做呢


49
00:01:28,906 --> 00:01:30,766
你可能会先


50
00:01:30,766 --> 00:01:32,396
扫描这个列表 直到你找到


51
00:01:32,396 --> 00:01:33,336
你想要的那一罐


52
00:01:34,696 --> 00:01:35,746
然后你可能会把注意力集中在那个


53
00:01:35,746 --> 00:01:37,276
单元格然后寻找一个按钮


54
00:01:37,276 --> 00:01:38,416
能够完成你想要


55
00:01:38,416 --> 00:01:41,486
做的操作 然后你只需点击它即可


56
00:01:42,156 --> 00:01:43,396
现在这看起来非常直观


57
00:01:43,396 --> 00:01:46,026
但这是因为


58
00:01:46,026 --> 00:01:47,426
UI 能够支持这一直观感觉


59
00:01:47,426 --> 00:01:48,846
通过有逻辑地


60
00:01:48,896 --> 00:01:51,036
把单元格与按钮整合起来


61
00:01:51,036 --> 00:01:52,806
这让我们能更容易地去处理


62
00:01:52,806 --> 00:01:56,016
和消化内容 但是反之如果


63
00:01:56,016 --> 00:01:57,666
App 以另一种方式布局会怎样呢


64
00:01:58,726 --> 00:02:01,036
可能是像这样的


65
00:02:01,706 --> 00:02:03,996
请注意现在按钮


66
00:02:03,996 --> 00:02:05,566
在单元格下面


67
00:02:05,566 --> 00:02:06,736
这意味着我们需要


68
00:02:06,736 --> 00:02:07,396
滑动更多的内容


69
00:02:08,545 --> 00:02:09,735
另外 按钮与


70
00:02:09,735 --> 00:02:11,296
单元格的对应关系


71
00:02:11,296 --> 00:02:12,486
也更加模糊


72
00:02:13,146 --> 00:02:15,276
这很可能就是


73
00:02:15,276 --> 00:02:16,736
有人在通过旁白


74
00:02:16,736 --> 00:02:18,026
使用你的 App 时的体验


75
00:02:18,826 --> 00:02:19,806
让我来展示一下我的意思


76
00:02:20,916 --> 00:02:21,776
首先我们来看一下


77
00:02:21,776 --> 00:02:23,206
使用旁白来


78
00:02:23,206 --> 00:02:24,046
对这个 App  中的某个单元格


79
00:02:24,046 --> 00:02:25,806
进行浏览是什么样子的


80
00:02:26,396 --> 00:02:30,116
>> Patty's creamy Noster


81
00:02:30,116 --> 00:02:30,926
得 1 分 满分 5 分


82
00:02:30,926 --> 00:02:33,116
添加至收藏按钮


83
00:02:33,436 --> 00:02:35,296
减分按钮


84
00:02:35,736 --> 00:02:37,596
加分按钮


85
00:02:39,176 --> 00:02:40,816
>> 当我们滑动过这个单元格后


86
00:02:41,466 --> 00:02:43,696
我们关注这三个按钮


87
00:02:43,696 --> 00:02:45,546
添加至收藏 减分


88
00:02:45,796 --> 00:02:47,776
和加分按钮


89
00:02:47,826 --> 00:02:49,166
而且这三个按钮存在于


90
00:02:49,166 --> 00:02:50,386
这一列表的每一个单元格中


91
00:02:51,706 --> 00:02:53,096
因此倘若我们想要找到


92
00:02:53,096 --> 00:02:55,106
第 10 罐 我们就需要听到


93
00:02:55,106 --> 00:02:57,726
旁白读这些按钮 30 次


94
00:02:57,726 --> 00:02:59,146
这种重复很快就会令人疲倦


95
00:03:00,276 --> 00:03:01,426
此外我们还要


96
00:03:01,426 --> 00:03:02,846
注意记得上一个


97
00:03:02,846 --> 00:03:03,926
听到的花生酱是哪一罐


98
00:03:04,616 --> 00:03:06,156
否则我们就不知道


99
00:03:06,156 --> 00:03:07,366
若我们激活其中一个控制按键


100
00:03:07,366 --> 00:03:09,000
哪些内容会受到影响


101
00:03:10,816 --> 00:03:12,206
那么让我们再重新来看这个 App


102
00:03:12,206 --> 00:03:13,836
只是这一次 App 的设计有轻微区别


103
00:03:14,526 --> 00:03:15,556
我更改了这些按钮


104
00:03:15,556 --> 00:03:17,246
他们不会再出现在旁白中


105
00:03:17,776 --> 00:03:19,246
我对这些单元格添加了自定义操作


106
00:03:19,316 --> 00:03:21,006
因此当旁白


107
00:03:21,006 --> 00:03:22,536
读到一个单元时 我们可以


108
00:03:22,536 --> 00:03:23,956
用一个手指向上或向下划动


109
00:03:23,956 --> 00:03:25,496
来选择一个操作 然后


110
00:03:25,496 --> 00:03:26,486
双击来激活这个操作


111
00:03:27,076 --> 00:03:27,626
我们来看一下


112
00:03:29,056 --> 00:03:32,456
>> Patty's creamy Noster


113
00:03:32,456 --> 00:03:33,626
得1分 满分5分


114
00:03:33,746 --> 00:03:36,126
Anna's chunky sugar-free


115
00:03:36,766 --> 00:03:38,096
得 4 分 满分 5 分


116
00:03:38,406 --> 00:03:40,416
可选操作包括


117
00:03:40,416 --> 00:03:43,226
添加收藏和加分


118
00:03:44,616 --> 00:03:46,596
>> 这一次当我们划过


119
00:03:46,596 --> 00:03:48,576
这一单元时 我们会直接进入到


120
00:03:48,576 --> 00:03:50,586
下一个单元 这让我们可以


121
00:03:50,586 --> 00:03:51,526
更容易地浏览


122
00:03:51,526 --> 00:03:52,876
这些内容 从而找到我们


123
00:03:52,876 --> 00:03:53,446
想要的内容


124
00:03:54,286 --> 00:03:55,996
一旦我们找到想要的内容 我们就可以


125
00:03:55,996 --> 00:03:57,536
进一步在那里选择一个交互操作


126
00:03:57,536 --> 00:03:59,086
这样的方法


127
00:03:59,086 --> 00:04:00,556
更贴近


128
00:04:00,556 --> 00:04:01,786
我们之前所说的


129
00:04:01,786 --> 00:04:03,626
视觉浏览一个列表的体验


130
00:04:04,836 --> 00:04:06,446
所以自定义操作可以


131
00:04:06,446 --> 00:04:08,656
帮助我们减少杂乱


132
00:04:08,656 --> 00:04:10,146
消除重复性操作


133
00:04:10,776 --> 00:04:11,676
我们也可以借此减少


134
00:04:11,676 --> 00:04:13,266
使用 App 时候的


135
00:04:13,266 --> 00:04:14,346
自身认知压力


136
00:04:15,246 --> 00:04:16,685
因为我们可以直观地选择


137
00:04:16,685 --> 00:04:18,305
一个交互操作 当我们找到


138
00:04:18,305 --> 00:04:19,906
我们想要交互的内容后


139
00:04:20,676 --> 00:04:22,166
这些操作也变得


140
00:04:22,166 --> 00:04:23,096
不再模糊


141
00:04:24,306 --> 00:04:25,866
这就大大简化了操作体验


142
00:04:28,696 --> 00:04:30,436
下面我们来看自定义操作


143
00:04:30,436 --> 00:04:31,646
能如何提升


144
00:04:31,646 --> 00:04:33,126
App 中复杂交互操作的


145
00:04:33,126 --> 00:04:34,496
便利性和速度


146
00:04:35,546 --> 00:04:36,566
在此之前我想先介绍


147
00:04:36,566 --> 00:04:37,386
开关控制


148
00:04:37,386 --> 00:04:39,686
这是我们为


149
00:04:39,686 --> 00:04:41,096
行动不便人士开发的另一项功能


150
00:04:41,096 --> 00:04:42,706
这些人群可以


151
00:04:42,706 --> 00:04:43,996
通过简单的一个到两个


152
00:04:43,996 --> 00:04:45,316
操作与他们的设备交互


153
00:04:45,856 --> 00:04:48,096
我添加了一些额外的


154
00:04:48,096 --> 00:04:49,186
功能到这个


155
00:04:49,186 --> 00:04:50,836
花生酱 App 当我们


156
00:04:50,836 --> 00:04:52,596
长按一个单元时 一个操作菜单


157
00:04:52,596 --> 00:04:54,016
会弹出来 提供一些额外选项


158
00:04:54,606 --> 00:04:55,896
选项包括发送


159
00:04:55,896 --> 00:04:57,126
关于其中的


160
00:04:57,126 --> 00:04:58,576
一罐花生酱的信息给朋友等


161
00:04:58,676 --> 00:05:00,586
我有两个开关与


162
00:05:00,586 --> 00:05:00,986
此设备配对


163
00:05:01,966 --> 00:05:03,336
橘黄色的开关会将


164
00:05:03,376 --> 00:05:04,566
开关控制的关注点移动到


165
00:05:04,566 --> 00:05:06,646
下一个项目 而白色的开关


166
00:05:06,646 --> 00:05:07,636
则负责选取这个项目


167
00:05:08,686 --> 00:05:09,996
要记住 开关可以


168
00:05:09,996 --> 00:05:11,016
被设计用于


169
00:05:11,016 --> 00:05:11,516
满足不同需求


170
00:05:12,146 --> 00:05:13,566
比方说 有人可能会


171
00:05:13,566 --> 00:05:14,696
将开关安装在一个


172
00:05:14,696 --> 00:05:15,566
他们能够


173
00:05:15,566 --> 00:05:16,346
用头部操控的轮椅上


174
00:05:17,786 --> 00:05:18,656
让我们来看一下


175
00:05:18,656 --> 00:05:20,866
使用开关控制来


176
00:05:20,866 --> 00:05:22,076
发送关于第二罐


177
00:05:22,076 --> 00:05:23,500
花生酱的信息给我们的朋友


178
00:05:25,656 --> 00:05:27,196
因此我们可以使用橘黄色的开关


179
00:05:27,346 --> 00:05:28,516
来浏览至第二个


180
00:05:28,516 --> 00:05:30,066
单元 而后使用白色


181
00:05:30,126 --> 00:05:31,116
开关来选中它


182
00:05:31,906 --> 00:05:32,836
这会弹出


183
00:05:32,836 --> 00:05:34,336
开关控制菜单


184
00:05:34,336 --> 00:05:35,656
提供了我们可以与该单元


185
00:05:35,656 --> 00:05:36,726
交互的其他选项


186
00:05:37,846 --> 00:05:39,056
我们可以向下浏览至


187
00:05:39,056 --> 00:05:40,896
页面控制


188
00:05:40,896 --> 00:05:41,666
选中它可以看到更多选项


189
00:05:42,596 --> 00:05:44,446
在这里我们可以按选择键


190
00:05:44,566 --> 00:05:46,906
进入菜单然后浏览至手势


191
00:05:47,856 --> 00:05:49,246
选择它会让我们


192
00:05:49,246 --> 00:05:50,836
看到一系列我们


193
00:05:50,836 --> 00:05:52,276
想要通过触屏来


194
00:05:52,276 --> 00:05:53,096
实现的手势


195
00:05:54,196 --> 00:05:55,926
从这里我们可以浏览至


196
00:05:55,926 --> 00:05:57,246
第二行然后按下


197
00:05:57,246 --> 00:05:59,046
选择键来进入菜单


198
00:05:59,046 --> 00:06:00,576
然后选择点按并长按


199
00:06:01,576 --> 00:06:03,006
选择它将实现我们的


200
00:06:03,006 --> 00:06:04,496
长按手势 并弹出


201
00:06:04,496 --> 00:06:06,126
我们的操作菜单 我们可以


202
00:06:06,126 --> 00:06:08,126
从中浏览并选取


203
00:06:08,266 --> 00:06:08,996
发送给朋友


204
00:06:09,966 --> 00:06:13,000
我们可以实现点按 然后就可以了


205
00:06:14,556 --> 00:06:17,356
现在回想起来 我们


206
00:06:17,356 --> 00:06:19,886
完成了所有操作 而我们从未


207
00:06:19,886 --> 00:06:20,726
触碰屏幕


208
00:06:22,176 --> 00:06:23,316
这非常酷 对不对


209
00:06:24,946 --> 00:06:26,156
但你可能也注意到了


210
00:06:26,156 --> 00:06:27,386
这一交互一般需要


211
00:06:27,386 --> 00:06:29,946
我们做两次点按


212
00:06:29,946 --> 00:06:31,646
一次长按和一次在操作菜单中的点按


213
00:06:31,646 --> 00:06:33,806
通过开关控制


214
00:06:34,836 --> 00:06:38,186
需要进行 18 次点按 但是


215
00:06:38,186 --> 00:06:39,756
自定义操作可以显著地


216
00:06:39,756 --> 00:06:40,256
减少这个数字


217
00:06:41,836 --> 00:06:43,596
我们来重新看一下


218
00:06:43,596 --> 00:06:44,706
不过这次我将


219
00:06:44,706 --> 00:06:45,826
自定义操作添加到了 App


220
00:06:47,006 --> 00:06:48,006
我们将使用橘黄色


221
00:06:48,006 --> 00:06:49,156
开关来浏览到


222
00:06:49,206 --> 00:06:51,436
第二个单元 不过这次当


223
00:06:51,436 --> 00:06:53,276
我们在


224
00:06:53,386 --> 00:06:54,526
开关控制菜单的第一页选择时


225
00:06:54,526 --> 00:06:56,066
菜单上已经有了


226
00:06:56,066 --> 00:06:56,716
我们添加的各种操作


227
00:06:57,426 --> 00:06:59,306
我们可以进入菜单浏览至


228
00:06:59,306 --> 00:07:01,056
发送给朋友


229
00:07:01,116 --> 00:07:03,736
按下选择键 就完成了


230
00:07:05,056 --> 00:07:06,326
我们甚至不需要


231
00:07:06,326 --> 00:07:07,396
浏览第一次弹出的


232
00:07:07,396 --> 00:07:08,386
操作菜单


233
00:07:08,926 --> 00:07:10,866
我们就直接到了我们需要的地方


234
00:07:11,576 --> 00:07:14,066
这是一种明显更快的交互操作


235
00:07:14,066 --> 00:07:16,626
我们可以使用 18 次点按的方式


236
00:07:16,626 --> 00:07:18,896
而我们也可以使之节省至


237
00:07:18,896 --> 00:07:21,836
6 次点按 这比之前的点按次数


238
00:07:21,836 --> 00:07:22,806
节省了 67%


239
00:07:23,406 --> 00:07:26,366
因此 自定义操作可以


240
00:07:26,496 --> 00:07:28,336
大大的提升便利性和速度


241
00:07:29,566 --> 00:07:30,566
我们删除了繁琐的手势


242
00:07:30,566 --> 00:07:32,036
大大地


243
00:07:32,036 --> 00:07:33,036
加快交互速度


244
00:07:33,966 --> 00:07:35,286
此外 我们改进了


245
00:07:35,336 --> 00:07:36,856
那些交互选项的


246
00:07:36,856 --> 00:07:38,466
突出性和便利性


247
00:07:38,466 --> 00:07:39,666
通过将它们放在


248
00:07:39,666 --> 00:07:40,656
开关控制菜单的第一页


249
00:07:41,606 --> 00:07:42,566
我们不需要浏览


250
00:07:42,566 --> 00:07:44,166
很多子菜单


251
00:07:44,166 --> 00:07:45,526
尝试不同的手势 来弄清楚


252
00:07:45,526 --> 00:07:46,516
可能的选择


253
00:07:47,186 --> 00:07:48,526
反之 一切都变得


254
00:07:48,526 --> 00:07:50,606
更加简单和直接


255
00:07:51,436 --> 00:07:52,746
现在我打赌在听到


256
00:07:52,746 --> 00:07:54,266
这些自定义操作的


257
00:07:54,266 --> 00:07:55,946
绝妙优势之后


258
00:07:55,946 --> 00:07:57,116
你已经等不及在你的 App 中使用它们了


259
00:07:57,646 --> 00:07:58,896
幸运的是 这很简单


260
00:08:00,046 --> 00:08:00,926
你只需要重写


261
00:08:00,996 --> 00:08:02,286
视图中的 accessibilityCustomActions 属性


262
00:08:02,286 --> 00:08:04,406
然后返回


263
00:08:04,406 --> 00:08:06,026
一组 UI 辅助功能


264
00:08:06,026 --> 00:08:07,236
自定义操作对象


265
00:08:08,186 --> 00:08:09,886
每个对象都有一个名字


266
00:08:09,886 --> 00:08:11,036
一个目标和一个选择器


267
00:08:12,206 --> 00:08:13,676
你的函数只需要


268
00:08:13,676 --> 00:08:14,936
返回一个布尔值判断


269
00:08:14,936 --> 00:08:16,226
操作是否成功


270
00:08:17,156 --> 00:08:18,466
并将一个 UI 辅助功能


271
00:08:18,466 --> 00:08:20,136
自定义操作作为一个参数


272
00:08:20,736 --> 00:08:23,316
今年我们有一个新版本的


273
00:08:23,316 --> 00:08:24,626
API 可以接受一个


274
00:08:24,626 --> 00:08:25,936
操作处理器


275
00:08:25,936 --> 00:08:26,756
替代目标和选择器


276
00:08:27,476 --> 00:08:28,576
因此如果使用代码组


277
00:08:28,636 --> 00:08:29,606
更适合你的 App 的设计


278
00:08:29,606 --> 00:08:30,996
我们建议你


279
00:08:30,996 --> 00:08:31,656
尝试一下


280
00:08:33,515 --> 00:08:36,015
[掌声]


281
00:08:36,515 --> 00:08:36,866
是的


282
00:08:38,306 --> 00:08:39,226
此外 如果你想要


283
00:08:39,226 --> 00:08:40,716
用一个自定义操作来替换


284
00:08:40,716 --> 00:08:41,895
类似一个单元内部的


285
00:08:41,895 --> 00:08:43,756
附件控件的内容 你可能


286
00:08:43,756 --> 00:08:44,776
需要先将


287
00:08:44,776 --> 00:08:46,236
这些控件上的 isAccessibilityElement
设为 false


288
00:08:46,236 --> 00:08:47,786
因此它们就不再


289
00:08:47,786 --> 00:08:48,706
能通过辅助技术


290
00:08:48,706 --> 00:08:49,646
进行浏览


291
00:08:51,106 --> 00:08:52,786
除了我们今天


292
00:08:52,856 --> 00:08:54,256
在演示中提到的旁白和开关控制


293
00:08:54,256 --> 00:08:56,486
自定义操作可以


294
00:08:56,486 --> 00:08:57,786
被用于很多


295
00:08:57,786 --> 00:08:59,036
我们所提供的辅助技术


296
00:08:59,036 --> 00:09:00,956
包括全键盘访问


297
00:09:00,956 --> 00:09:02,426
和语音控制


298
00:09:02,426 --> 00:09:03,116
这些都是今年全新的


299
00:09:03,856 --> 00:09:04,976
我非常建议你将


300
00:09:04,976 --> 00:09:06,526
其中一些功能打开


301
00:09:06,526 --> 00:09:07,866
用你的 App 尝试


302
00:09:07,866 --> 00:09:09,356
寻找这些自定义操作能够


303
00:09:09,356 --> 00:09:10,346
提升体验的方式


304
00:09:11,166 --> 00:09:11,826
非常感谢大家


305
00:09:12,508 --> 00:09:14,508
[掌声]

