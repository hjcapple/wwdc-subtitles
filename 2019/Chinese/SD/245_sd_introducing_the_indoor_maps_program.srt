1
00:00:00,506 --> 00:00:05,955
[音乐]


2
00:00:06,456 --> 00:00:08,176
>> 大家好 我是 Yuval Kossovsky


3
00:00:08,176 --> 00:00:09,396
欢迎各位来到


4
00:00:09,396 --> 00:00:10,636
室内地图程序的会议


5
00:00:11,296 --> 00:00:12,466
也许 你是一家


6
00:00:12,466 --> 00:00:14,476
大型医院 办公大楼


7
00:00:14,526 --> 00:00:16,326
体育场或博物馆的所有者


8
00:00:16,326 --> 00:00:17,926
并且希望将室内地图


9
00:00:17,926 --> 00:00:19,916
和定位功能添加到自己的消费者


10
00:00:19,916 --> 00:00:21,396
或企业 App 中


11
00:00:21,906 --> 00:00:23,946
或者你是


12
00:00:23,946 --> 00:00:25,976
机场 购物中心


13
00:00:25,976 --> 00:00:27,446
或其他拥有大量公众游客的


14
00:00:27,446 --> 00:00:29,346
设施所有者


15
00:00:29,346 --> 00:00:30,546
你希望你的室内地图和定位


16
00:00:30,546 --> 00:00:32,125
成为 Apple 地图


17
00:00:32,125 --> 00:00:34,016
室内体验的一部分


18
00:00:34,476 --> 00:00:35,906
那你们会对本次会议


19
00:00:35,966 --> 00:00:37,616
十分感兴趣


20
00:00:38,076 --> 00:00:39,766
户外定位服务已经


21
00:00:39,766 --> 00:00:41,516
深入我们的城市


22
00:00:41,666 --> 00:00:43,606
我们的旅行 和日常通勤


23
00:00:43,766 --> 00:00:45,776
甚至我们的社交活动


24
00:00:46,066 --> 00:00:47,246
人们开始期待


25
00:00:47,246 --> 00:00:48,936
在各处都能得到


26
00:00:49,006 --> 00:00:51,526
定位体验 包括室内


27
00:00:52,066 --> 00:00:53,816
除了众所周知的


28
00:00:53,816 --> 00:00:55,626
地图软件 You-Are-Here 


29
00:00:55,626 --> 00:00:57,526
的数字版之外


30
00:00:57,526 --> 00:00:59,546
还有许多用户 公司


31
00:00:59,546 --> 00:01:01,446
企业都有室内地图


32
00:01:01,446 --> 00:01:03,016
和室内定位


33
00:01:03,016 --> 00:01:04,536
的使用需求


34
00:01:05,116 --> 00:01:07,036
比如 坐飞机时


35
00:01:07,036 --> 00:01:08,686
当你不知道在哪停车


36
00:01:08,686 --> 00:01:10,376
不知道安全线在哪


37
00:01:10,376 --> 00:01:12,166
登机口在哪


38
00:01:12,166 --> 00:01:13,886
不知道从现在的位置


39
00:01:13,886 --> 00:01:15,476
到你的目的地要多久


40
00:01:15,676 --> 00:01:16,896
那么旅行会让你很有压力


41
00:01:17,546 --> 00:01:19,246
一张实时更新的地图


42
00:01:19,246 --> 00:01:20,756
可以显示你登机口的位置


43
00:01:20,826 --> 00:01:22,636
个人位置和你还剩


44
00:01:22,636 --> 00:01:24,336
多少时间来购物或


45
00:01:24,336 --> 00:01:26,216
在起飞前简单吃点东西


46
00:01:26,216 --> 00:01:28,316
这会让你的旅途更加愉快


47
00:01:29,186 --> 00:01:30,806
来看一下大楼的操作部分


48
00:01:30,806 --> 00:01:32,446
工作人员可能需要


49
00:01:32,446 --> 00:01:33,786
在日常维护或


50
00:01:33,786 --> 00:01:35,136
运行故障检测时


51
00:01:35,136 --> 00:01:37,256
找出一台设备的位置


52
00:01:37,706 --> 00:01:39,216
使用室内地图


53
00:01:39,216 --> 00:01:40,816
和室内定位


54
00:01:40,816 --> 00:01:42,556
设备报告可以标记出


55
00:01:42,556 --> 00:01:45,386
准确的纬度 经度和楼层


56
00:01:45,776 --> 00:01:47,686
然后距离最近的技术人员


57
00:01:47,686 --> 00:01:49,286
就会按照导航


58
00:01:49,286 --> 00:01:51,306
直接到定位地点


59
00:01:51,306 --> 00:01:52,976
用相应的技术解决问题


60
00:01:53,166 --> 00:01:56,696
这大大提高了操作效率


61
00:01:56,956 --> 00:01:58,636
最后 这也考虑到了


62
00:01:58,636 --> 00:02:00,326
救援人员在决定行动计划


63
00:02:00,326 --> 00:02:01,896
之前 只有很短时间


64
00:02:01,896 --> 00:02:03,586
来研究建筑布局


65
00:02:04,126 --> 00:02:05,736
一般而言 唯一可用的


66
00:02:05,736 --> 00:02:07,416
室内地图都是纸质版


67
00:02:07,416 --> 00:02:08,156
而且也不是最新版


68
00:02:08,675 --> 00:02:10,346
使用实时更新的


69
00:02:10,346 --> 00:02:12,646
室内电子地图


70
00:02:12,646 --> 00:02:14,516
来显示事故位置


71
00:02:14,516 --> 00:02:16,156
和室内救援人员


72
00:02:16,156 --> 00:02:17,766
的位置 可以


73
00:02:17,766 --> 00:02:19,666
大大缩短应答时间


74
00:02:19,816 --> 00:02:22,066
某些情况下甚至可以挽救生命


75
00:02:22,406 --> 00:02:24,206
这三个场景只是


76
00:02:24,206 --> 00:02:26,196
Apple 室内地图


77
00:02:26,196 --> 00:02:27,726
程序中室内地图


78
00:02:27,726 --> 00:02:29,356
和室内定位


79
00:02:29,356 --> 00:02:30,656
的几个示例


80
00:02:31,346 --> 00:02:33,276
室内地图程序


81
00:02:33,276 --> 00:02:35,296
让拥有大型公共


82
00:02:35,296 --> 00:02:37,336
和私人空间的组织能够


83
00:02:37,336 --> 00:02:39,316
创建标准空间室内地图


84
00:02:39,536 --> 00:02:41,346
支持室内定位


85
00:02:41,346 --> 00:02:43,456
也支持在 App 和网站上


86
00:02:43,456 --> 00:02:45,206
创建优秀的室内地图


87
00:02:45,596 --> 00:02:47,196
接下来我会讨论


88
00:02:47,196 --> 00:02:48,816
完成这些任务的


89
00:02:48,816 --> 00:02:50,606
总体工作流程


90
00:02:50,636 --> 00:02:52,206
并在每一步中


91
00:02:52,206 --> 00:02:54,276
就如何完成提供


92
00:02:54,276 --> 00:02:55,936
最佳实践形式的指导


93
00:02:56,796 --> 00:02:58,696
这个程序的核心是


94
00:02:58,696 --> 00:03:00,536
室内地图数据格式


95
00:03:00,626 --> 00:03:02,346
或者叫 IMDF


96
00:03:03,266 --> 00:03:05,396
这是 Apple 为


97
00:03:05,396 --> 00:03:07,596
室内空间建模设定的规范


98
00:03:07,596 --> 00:03:10,746
并以一组 GeoJSON 文件显示


99
00:03:11,376 --> 00:03:13,006
很多你在 GIS 平台中


100
00:03:13,006 --> 00:03:15,206
最喜爱的地图


101
00:03:15,206 --> 00:03:16,776
都已经支持 IMDF


102
00:03:16,776 --> 00:03:18,846
的制作和编辑


103
00:03:18,846 --> 00:03:20,496
因为它已经迅速成为


104
00:03:20,496 --> 00:03:22,596
室内数据的实际更换标准


105
00:03:23,496 --> 00:03:24,886
让我们来深入了解一下


106
00:03:24,886 --> 00:03:26,366
室内地图程序


107
00:03:27,046 --> 00:03:28,436
建筑和房屋所有者


108
00:03:28,436 --> 00:03:30,286
可以先用业内标准工具


109
00:03:30,376 --> 00:03:33,916
把 CAD BIM 或 GIS 文件


110
00:03:33,916 --> 00:03:35,356
转换成 IMDF


111
00:03:35,746 --> 00:03:37,776
然后他们可以用 IMDF 地图


112
00:03:37,936 --> 00:03:39,486
和 Apple 开发的工具


113
00:03:39,656 --> 00:03:41,456
在其自己的顾客和企业 App


114
00:03:41,456 --> 00:03:43,766
中显示室内地图


115
00:03:44,246 --> 00:03:46,576
在这个简单的例子中


116
00:03:46,576 --> 00:03:48,276
任何开发人员都可以


117
00:03:48,276 --> 00:03:50,106
使用 MapKit 和 MapKit JS 工具


118
00:03:50,106 --> 00:03:52,426
轻松地在 App 中


119
00:03:52,426 --> 00:03:53,816
显示 IMDF


120
00:03:54,186 --> 00:03:55,126
由于构建和理解


121
00:03:55,126 --> 00:03:57,316
IMDF 可能有点复杂


122
00:03:57,316 --> 00:03:58,946
所以我们有一个


123
00:03:58,946 --> 00:04:01,246
IMDF 沙箱 它可以


124
00:04:01,246 --> 00:04:03,046
用于可视化


125
00:04:03,046 --> 00:04:04,856
归档检查 编辑和用


126
00:04:04,856 --> 00:04:07,376
IMDF 归档进行实验


127
00:04:08,356 --> 00:04:10,176
我们欢迎拥有大型公共


128
00:04:10,176 --> 00:04:11,876
和私人空间的公司 比如


129
00:04:11,876 --> 00:04:13,676
机场 购物中心 场馆


130
00:04:13,676 --> 00:04:16,446
运动场 医院 大学


131
00:04:16,446 --> 00:04:17,846
和私人办公楼


132
00:04:18,016 --> 00:04:19,596
来为他们的组织


133
00:04:19,596 --> 00:04:21,326
注册室内地图程序


134
00:04:21,326 --> 00:04:24,166
用行业标准工具


135
00:04:24,166 --> 00:04:25,616
创建 IMDF 地图


136
00:04:25,916 --> 00:04:28,106
激活沙箱中


137
00:04:28,106 --> 00:04:30,896
的 IMDF 地图 允许 Apple


138
00:04:30,896 --> 00:04:33,026
访问室内地图 然后用 Mapkit


139
00:04:33,026 --> 00:04:35,466
和 MapKit JS 


140
00:04:35,466 --> 00:04:37,276
在 App 和网页上显示


141
00:04:37,276 --> 00:04:38,596
室内地图和定位


142
00:04:39,176 --> 00:04:40,736
交通繁忙的地区


143
00:04:40,736 --> 00:04:42,176
比如机场和购物中心


144
00:04:42,176 --> 00:04:43,796
可能也希望将其建筑


145
00:04:43,796 --> 00:04:45,166
的公共室内地图


146
00:04:45,166 --> 00:04:47,806
包含在 Apple 地图里


147
00:04:48,506 --> 00:04:50,106
所有参与室内地图项目


148
00:04:50,106 --> 00:04:52,416
的人都可以为其建筑


149
00:04:52,416 --> 00:04:54,016
激活室内定位功能


150
00:04:54,146 --> 00:04:56,226
在自己的 App 和网站中


151
00:04:56,226 --> 00:04:57,416
使用 IMDF 地图


152
00:04:57,876 --> 00:04:59,396
让我们更详细地


153
00:04:59,396 --> 00:05:00,606
了解一下使用


154
00:05:00,606 --> 00:05:02,746
室内地图项目来管理


155
00:05:02,746 --> 00:05:04,396
你的组织账号和


156
00:05:04,396 --> 00:05:06,186
申请建筑位置的过程


157
00:05:08,166 --> 00:05:09,526
请到 register.apple.com/indoor


158
00:05:09,526 --> 00:05:12,326
网站了解更多关于该程序


159
00:05:12,326 --> 00:05:14,106
的信息 并获取相关工具


160
00:05:14,106 --> 00:05:16,336
信息和文档的链接


161
00:05:17,796 --> 00:05:19,546
点按 Get Started 开始


162
00:05:19,546 --> 00:05:21,136
注册你的组织账号


163
00:05:21,736 --> 00:05:23,496
当组织在 Apple Business Register


164
00:05:23,496 --> 00:05:25,246
注册室内地图程序时


165
00:05:25,246 --> 00:05:27,206
我们会对其业务信息


166
00:05:27,206 --> 00:05:29,386
进行深入核查


167
00:05:29,836 --> 00:05:31,396
个人注册的用户


168
00:05:31,396 --> 00:05:33,136
必须有连接到组织域


169
00:05:33,136 --> 00:05:34,786
的电子邮件


170
00:05:34,786 --> 00:05:36,786
并且所有的主要联系人


171
00:05:36,786 --> 00:05:39,076
必须是公司的雇员


172
00:05:39,076 --> 00:05:41,036
或注册代理


173
00:05:41,706 --> 00:05:43,166
一旦组织通过


174
00:05:43,166 --> 00:05:44,946
验证和批准 那么


175
00:05:44,946 --> 00:05:46,686
管理员就可以


176
00:05:46,686 --> 00:05:48,056
在右侧这一栏


177
00:05:48,056 --> 00:05:49,376
管理其团队成员


178
00:05:49,896 --> 00:05:51,216
轻点或点按小组成员


179
00:05:51,216 --> 00:05:52,826
将显示成员列表


180
00:05:52,826 --> 00:05:54,806
轻点加号可以


181
00:05:54,806 --> 00:05:57,126
选择邀请个人


182
00:05:57,126 --> 00:05:58,406
或组织加入到


183
00:05:58,406 --> 00:06:02,006
这一程序分组中


184
00:06:02,516 --> 00:06:05,576
受邀者可以获得


185
00:06:05,576 --> 00:06:07,786
五种不同的权限


186
00:06:08,076 --> 00:06:10,026
并可以获得整个场馆地点


187
00:06:10,026 --> 00:06:14,186
或选定的个人地点的权限


188
00:06:14,996 --> 00:06:17,436
这种大体的控制


189
00:06:17,436 --> 00:06:19,736
让组织可以轻松地把


190
00:06:19,776 --> 00:06:22,636
IMDF 地图制作和调查


191
00:06:22,636 --> 00:06:24,306
外包给各个地点或


192
00:06:24,306 --> 00:06:26,916
其他组织的合作伙伴


193
00:06:27,586 --> 00:06:29,366
如果系统集成商想用


194
00:06:29,366 --> 00:06:31,816
IMDF 为用户


195
00:06:31,816 --> 00:06:34,166
查找室内定位


196
00:06:34,166 --> 00:06:35,996
或创建室内 App


197
00:06:35,996 --> 00:06:37,766
则应收到组织邀请


198
00:06:37,996 --> 00:06:39,516
而不能擅自以客户


199
00:06:39,516 --> 00:06:42,006
的名义使用地图


200
00:06:42,006 --> 00:06:43,516
以上就是团队管理部分


201
00:06:44,516 --> 00:06:46,196
申请组织定位


202
00:06:46,196 --> 00:06:47,626
非常简单


203
00:06:48,116 --> 00:06:49,566
请记住你只能


204
00:06:49,566 --> 00:06:50,926
就自己的房产提出申请


205
00:06:50,926 --> 00:06:53,396
不能代人申请


206
00:06:53,856 --> 00:06:55,436
点按 Connected Services 下的


207
00:06:55,436 --> 00:06:57,636
室内地图 再轻点加号


208
00:06:57,636 --> 00:06:59,446
来选择你的位置


209
00:06:59,806 --> 00:07:01,456
根据建筑物的分类


210
00:07:01,456 --> 00:07:02,766
你会看到不同的选项


211
00:07:02,766 --> 00:07:04,376
进而继续选择


212
00:07:04,376 --> 00:07:05,376
如何进行下一步


213
00:07:06,036 --> 00:07:07,236
属于私人场所的建筑


214
00:07:07,236 --> 00:07:09,116
不具备在 Apple 地图


215
00:07:09,116 --> 00:07:11,586
中显示其室内地图的资格


216
00:07:11,996 --> 00:07:13,986
Apple 地图会申请


217
00:07:13,986 --> 00:07:15,336
获得像机场这类地点的许可


218
00:07:15,336 --> 00:07:18,066
用以在 App 中显示其室内地图


219
00:07:18,756 --> 00:07:20,136
只要通过了


220
00:07:20,136 --> 00:07:22,606
位置申请审核


221
00:07:22,766 --> 00:07:24,176
你就可以上传 IMDF


222
00:07:24,176 --> 00:07:26,136
验证器会自动分析文件


223
00:07:26,686 --> 00:07:28,086
几分钟后 你会


224
00:07:28,086 --> 00:07:29,696
收到一封电子邮件


225
00:07:29,696 --> 00:07:31,266
表明已经完成验证


226
00:07:31,706 --> 00:07:32,756
你会收到一个


227
00:07:32,756 --> 00:07:34,486
验证报告的链接 可以在里面


228
00:07:34,486 --> 00:07:35,956
看到所有阻碍该文件


229
00:07:35,956 --> 00:07:37,936
接收的错误 或是指出


230
00:07:37,936 --> 00:07:39,246
还需做进一步检查的


231
00:07:39,246 --> 00:07:41,506
情况的警告


232
00:07:42,176 --> 00:07:43,846
你可以用嵌入 IMDF 沙箱


233
00:07:43,846 --> 00:07:46,016
的链接查看 IMDF 文件


234
00:07:46,096 --> 00:07:48,906
如需要 也可进行快速编辑


235
00:07:49,386 --> 00:07:51,516
一旦验证器中的 IMDF


236
00:07:51,516 --> 00:07:53,266
没有检测出错误 就会


237
00:07:53,266 --> 00:07:55,286
进行地理参考和评估


238
00:07:55,646 --> 00:07:57,016
为确保准确的


239
00:07:57,016 --> 00:07:59,316
室内定位 IMDF 必须有


240
00:07:59,316 --> 00:08:03,626
可步行的区域以供测量


241
00:08:01,646 --> 00:08:03,056
并与 Apple 卫星图像一致


242
00:08:04,396 --> 00:08:06,056
项目团队将手动检查


243
00:08:06,056 --> 00:08:07,766
你的 IMDF 的地区位置


244
00:08:07,766 --> 00:08:10,076
并粗略检查 IMDF 中


245
00:08:10,076 --> 00:08:12,476
无法在验证器中


246
00:08:12,476 --> 00:08:14,116
显示的缺陷


247
00:08:14,666 --> 00:08:16,236
如果对该文件做了任何更改


248
00:08:16,236 --> 00:08:18,466
它们则会被保存到


249
00:08:18,546 --> 00:08:20,116
新的 IMDF 中 该文件可在


250
00:08:20,116 --> 00:08:21,806
IMDF 的地区参考中下载


251
00:08:21,806 --> 00:08:24,276
并会提供一个报告


252
00:08:24,276 --> 00:08:26,656
来说明所做的更改


253
00:08:27,076 --> 00:08:28,726
让我们回顾一下参与


254
00:08:28,726 --> 00:08:30,426
Apple 室内地图程序


255
00:08:30,426 --> 00:08:32,096
的最佳操作


256
00:08:32,895 --> 00:08:35,106
虽然任何人都可以使用 MapKit


257
00:08:35,106 --> 00:08:36,826
和 MapKit JS 制作


258
00:08:36,826 --> 00:08:38,576
IMDF 地图 并将其显示在


259
00:08:38,576 --> 00:08:40,696
自己的 App 和网站上


260
00:08:40,696 --> 00:08:42,385
但室内地图程序和


261
00:08:42,385 --> 00:08:44,356
授权给 Apple 的室内定位功能


262
00:08:44,356 --> 00:08:45,526
主要是为大型房产的业主设计的


263
00:08:45,986 --> 00:08:47,496
这些房产有的占地


264
00:08:47,496 --> 00:08:49,606
50 平方米 有的则是整栋大楼


265
00:08:49,606 --> 00:08:52,666
有的年均有 500 万访客


266
00:08:52,856 --> 00:08:54,536
注册的个人必须是


267
00:08:54,536 --> 00:08:56,116
某一组织的成员


268
00:08:56,116 --> 00:08:57,826
并且必须提供足够的信息


269
00:08:57,826 --> 00:09:00,266
来验证组织的详细情况


270
00:09:00,656 --> 00:09:02,436
如果你已经有一个现有账户


271
00:09:02,656 --> 00:09:04,236
那么有新加入者时


272
00:09:04,236 --> 00:09:06,456
当前账户管理员会得到通知


273
00:09:06,656 --> 00:09:08,296
并直接邀请他们加入


274
00:09:08,686 --> 00:09:10,346
这确保组织能对


275
00:09:10,346 --> 00:09:12,426
所有成员进行管理


276
00:09:13,276 --> 00:09:15,066
一些地点可以在


277
00:09:15,066 --> 00:09:16,416
Apple 地图上显示


278
00:09:16,556 --> 00:09:18,566
然而 除非得到许可


279
00:09:18,566 --> 00:09:21,146
否则室内地图仍为个人专用


280
00:09:22,146 --> 00:09:24,006
IMDF 是地图的基础


281
00:09:24,006 --> 00:09:25,976
用于 App 和网站内的显示


282
00:09:25,976 --> 00:09:28,896
和室内定位的启用


283
00:09:29,596 --> 00:09:31,916
要创建 IMDF


284
00:09:31,916 --> 00:09:33,286
请和你的设备团队


285
00:09:33,286 --> 00:09:34,716
一起对公司提供的产品


286
00:09:34,716 --> 00:09:36,466
如安全软件 Autodesk Esri


287
00:09:36,466 --> 00:09:39,096
和其他 GIS 和 BIM 


288
00:09:39,336 --> 00:09:42,086
工具平台进行调查


289
00:09:42,866 --> 00:09:44,886
让我们再深入了解一下 IMDF


290
00:09:45,876 --> 00:09:48,116
要想理解 IMDF


291
00:09:48,116 --> 00:09:49,756
是如何构建的 我们首先


292
00:09:49,756 --> 00:09:51,186
要看一下建筑平面图


293
00:09:51,186 --> 00:09:52,326
的一般组成部分


294
00:09:53,086 --> 00:09:54,866
室内地图和普通地图一样


295
00:09:54,866 --> 00:09:56,456
都由许多层级构成


296
00:09:56,916 --> 00:09:58,976
每一层都可能包含几个功能


297
00:09:59,696 --> 00:10:01,006
例如 下面我们来


298
00:10:01,006 --> 00:10:01,936
分解这个建筑地图


299
00:10:02,416 --> 00:10:03,986
简单来说 室内地图


300
00:10:03,986 --> 00:10:05,376
的基础是建筑物


301
00:10:05,376 --> 00:10:07,466
的地面位置 或是


302
00:10:07,466 --> 00:10:08,486
建筑的实际大小


303
00:10:08,486 --> 00:10:09,356
和形状 加上


304
00:10:09,356 --> 00:10:11,776
它的地理坐标


305
00:10:12,266 --> 00:10:14,716
室内位置仍然在地球上


306
00:10:14,716 --> 00:10:15,866
为了处理人们进出


307
00:10:15,866 --> 00:10:16,906
大楼的移动情况


308
00:10:16,906 --> 00:10:18,696
室内数据模型必须


309
00:10:18,696 --> 00:10:20,176
考虑到这一事实


310
00:10:20,606 --> 00:10:22,186
建筑的地区位置参考


311
00:10:22,186 --> 00:10:23,006
可以解决这一问题


312
00:10:23,236 --> 00:10:25,086
下一步是添加一个层级


313
00:10:25,876 --> 00:10:27,806
同样 简单来说


314
00:10:27,806 --> 00:10:29,886
我们可以使用地面位置


315
00:10:29,886 --> 00:10:31,226
或序号 0 来举例


316
00:10:32,106 --> 00:10:34,036
这一层完全以


317
00:10:34,226 --> 00:10:36,126
单元的形式被覆盖


318
00:10:36,126 --> 00:10:38,526
比如房间 过道


319
00:10:38,616 --> 00:10:41,396
电梯或自动扶梯


320
00:10:41,826 --> 00:10:43,416
任何在这一层占据空间


321
00:10:43,416 --> 00:10:44,856
的事物都由几何


322
00:10:44,856 --> 00:10:47,466
和相关类别来定义


323
00:10:47,966 --> 00:10:49,716
房间通常有门或者


324
00:10:49,716 --> 00:10:51,346
我们所说的开口


325
00:10:51,716 --> 00:10:53,336
而在单元内部


326
00:10:53,336 --> 00:10:56,006
还有其他的物体 比如售货亭


327
00:10:56,286 --> 00:10:57,846
它们通常位于购物中心


328
00:10:57,846 --> 00:10:59,906
或购物中心的过道


329
00:11:00,586 --> 00:11:02,066
接下来还有对应的


330
00:11:02,066 --> 00:11:03,676
单元的标签 比如


331
00:11:03,676 --> 00:11:04,986
占用房间的


332
00:11:04,986 --> 00:11:06,056
企业名称


333
00:11:06,746 --> 00:11:07,946
图标用来标记


334
00:11:07,946 --> 00:11:09,856
相应的设施位置


335
00:11:09,856 --> 00:11:13,836
如电梯或洗手间


336
00:11:13,946 --> 00:11:15,796
在侏罗纪餐厅


337
00:11:15,796 --> 00:11:17,296
也有一个作为


338
00:11:17,296 --> 00:11:19,836
虚拟边界的分隔区域


339
00:11:19,836 --> 00:11:21,876
它延伸到实际单元


340
00:11:21,876 --> 00:11:24,156
的墙壁之外


341
00:11:24,586 --> 00:11:26,216
这地点可以是机场安检


342
00:11:26,216 --> 00:11:28,716
也可以是商场的美食广场


343
00:11:29,366 --> 00:11:30,376
它们共同构成了


344
00:11:30,376 --> 00:11:32,016
优秀的室内地图格式


345
00:11:32,016 --> 00:11:35,306
比如 IMDF


346
00:11:35,456 --> 00:11:37,496
该格式的规则是


347
00:11:37,496 --> 00:11:39,096
关于如何一致地


348
00:11:39,096 --> 00:11:40,976
将实际空间及其


349
00:11:40,976 --> 00:11:43,156
商业用途的信息


350
00:11:43,206 --> 00:11:45,366
放到易于理解


351
00:11:45,366 --> 00:11:46,556
的层级结构中


352
00:11:47,076 --> 00:11:48,266
让我们来看看


353
00:11:48,266 --> 00:11:50,056
组成 IMDF 归档的


354
00:11:50,056 --> 00:11:52,086
一些必需功能


355
00:11:52,086 --> 00:11:53,236
和可选元素


356
00:11:53,826 --> 00:11:56,086
有三个核心文件


357
00:11:56,086 --> 00:11:57,616
提供了场馆的


358
00:11:57,616 --> 00:11:59,806
基本信息 包含一些


359
00:11:59,806 --> 00:12:01,556
管理细节 地址


360
00:12:01,976 --> 00:12:03,466
和邮政地址的清单


361
00:12:03,466 --> 00:12:05,476
及描述位置


362
00:12:05,476 --> 00:12:07,086
总体形状的


363
00:12:07,086 --> 00:12:08,246
场馆分层


364
00:12:08,896 --> 00:12:10,536
然后 该特性由构建层


365
00:12:10,536 --> 00:12:12,756
及其相关的内存占用层扩展


366
00:12:12,756 --> 00:12:14,346
从而为实际建筑


367
00:12:14,696 --> 00:12:16,816
带来详细信息


368
00:12:17,376 --> 00:12:19,336
我们深入研究发现


369
00:12:19,336 --> 00:12:21,496
建筑内部的层级被定义了


370
00:12:22,396 --> 00:12:23,926
然后 该层就被完全


371
00:12:23,926 --> 00:12:25,846
覆盖在与开口相关


372
00:12:25,846 --> 00:12:28,606
的模块中 比如门廊


373
00:12:29,296 --> 00:12:31,326
该层级还有


374
00:12:31,326 --> 00:12:33,666
逻辑区域分组


375
00:12:33,666 --> 00:12:35,876
如模块和触发地点区域


376
00:12:36,436 --> 00:12:40,246
然后放置售货亭和固定装置


377
00:12:41,556 --> 00:12:43,846
设施及其相关数据


378
00:12:43,846 --> 00:12:45,486
会被分配到模块


379
00:12:45,736 --> 00:12:47,416
最后 使用锚点来


380
00:12:47,416 --> 00:12:49,446
以及附加的数据块


381
00:12:49,446 --> 00:12:51,096
进行单元地址定位


382
00:12:51,096 --> 00:12:52,636
比如通过占用人员的信息


383
00:12:52,636 --> 00:12:54,876
来提供其姓名


384
00:12:54,876 --> 00:12:57,296
电话号码和相关数据


385
00:12:57,986 --> 00:13:00,066
层级结构就是这样建立的


386
00:13:00,626 --> 00:13:02,126
你可以详细阅读


387
00:13:02,126 --> 00:13:03,266
室内地图数据规范


388
00:13:03,266 --> 00:13:04,966
来了解更多信息


389
00:13:05,116 --> 00:13:07,206
但是 IMDF 对开发人员来说


390
00:13:07,206 --> 00:13:08,176
是什么呢


391
00:13:09,046 --> 00:13:11,126
IMDF 是由多个


392
00:13:11,126 --> 00:13:13,146
GeoJSON 文件和我们所讨论的


393
00:13:13,146 --> 00:13:15,076
多个文件组成的归档文件


394
00:13:16,096 --> 00:13:17,646
这就是一个 GeoJSON 文件


395
00:13:17,946 --> 00:13:19,786
正如你所看到的 这是为


396
00:13:19,786 --> 00:13:22,386
特定功能分层提供的


397
00:13:22,386 --> 00:13:24,726
一个独一无二的的 UUID


398
00:13:25,256 --> 00:13:27,106
公众可以访问这座建筑的地图


399
00:13:27,106 --> 00:13:28,396
因此限制特性被设置为无效


400
00:13:28,396 --> 00:13:32,066
而且是在室内


401
00:13:32,506 --> 00:13:33,946
这是大楼的第一层级


402
00:13:34,656 --> 00:13:36,066
你在电梯按钮上


403
00:13:36,066 --> 00:13:37,236
看到的是 L1


404
00:13:37,236 --> 00:13:40,296
重点是 我们可以看到


405
00:13:40,296 --> 00:13:42,196
这一分级与单个建筑 ID 相关联


406
00:13:42,196 --> 00:13:44,446
并且它具有前面描述的


407
00:13:44,446 --> 00:13:46,906
良好的几何形状


408
00:13:47,696 --> 00:13:49,736
总之 就是一个简单的文本文件中


409
00:13:49,736 --> 00:13:52,456
包含一套全面的信息


410
00:13:53,356 --> 00:13:54,626
让我们回顾一下


411
00:13:54,626 --> 00:13:55,976
理解和构建归档的


412
00:13:55,976 --> 00:13:57,796
室内地图数据格式


413
00:13:57,796 --> 00:13:59,946
的一些重要元素


414
00:14:00,866 --> 00:14:02,516
了解层级之间的关系


415
00:14:02,516 --> 00:14:04,396
以及每个元素的数据


416
00:14:04,396 --> 00:14:06,706
在何处显示非常重要


417
00:14:06,996 --> 00:14:08,826
确保 IMDF 的完整性


418
00:14:08,876 --> 00:14:10,966
十分重要 即便是从概念


419
00:14:10,966 --> 00:14:12,926
交付证明和


420
00:14:12,926 --> 00:14:15,226
单位覆盖整个建筑的角度讲


421
00:14:15,916 --> 00:14:17,226
每一个层级上的事物


422
00:14:17,226 --> 00:14:19,506
都是一个单元 包括走道


423
00:14:19,506 --> 00:14:20,956
也有自己的类别


424
00:14:21,106 --> 00:14:23,166
说到类别 它对于一个


425
00:14:23,166 --> 00:14:25,296
优秀地图和良好的


426
00:14:25,296 --> 00:14:26,386
运转非常重要


427
00:14:27,676 --> 00:14:29,226
开口对于精准定位


428
00:14:29,226 --> 00:14:31,316
和正确路线都十分重要


429
00:14:31,316 --> 00:14:33,086
而且应该包含在程序中


430
00:14:33,086 --> 00:14:34,496
让流动性较大的地址


431
00:14:34,496 --> 00:14:36,696
能够更简单的被找到


432
00:14:37,156 --> 00:14:38,766
居住者应该有


433
00:14:38,766 --> 00:14:41,026
独一无二的地址和


434
00:14:41,116 --> 00:14:42,476
ID 来追踪并更新姓名


435
00:14:42,556 --> 00:14:45,396
最后 在制作 IMDF 时


436
00:14:45,476 --> 00:14:46,946
要考虑进行室内测量


437
00:14:47,456 --> 00:14:50,346
大空间很难获取准确定位


438
00:14:50,806 --> 00:14:52,296
即使你的地图不需要


439
00:14:52,296 --> 00:14:54,046
这些信息 包括


440
00:14:54,046 --> 00:14:55,936
著名的地标或像


441
00:14:55,936 --> 00:14:57,586
柱子这样的方向信息


442
00:14:57,586 --> 00:14:59,146
也会使你在室内定位


443
00:14:59,146 --> 00:15:00,946
测量中更易获得


444
00:15:00,946 --> 00:15:02,896
正确的校准


445
00:15:02,896 --> 00:15:05,316
从而提高后续测量的精确性


446
00:15:05,796 --> 00:15:08,086
这就是创建 IMDF 的部分


447
00:15:08,186 --> 00:15:10,026
下面 让我们看看验证部分


448
00:15:10,946 --> 00:15:12,776
正如我之前提到的


449
00:15:12,846 --> 00:15:14,556
当你在组织账户中


450
00:15:14,556 --> 00:15:16,356
上传了一个 IMDF 它将


451
00:15:16,356 --> 00:15:18,246
通过电子方式进行验证


452
00:15:18,246 --> 00:15:19,856
并提供详细的


453
00:15:19,856 --> 00:15:21,156
分析报告


454
00:15:21,426 --> 00:15:22,716
虽然这对于受过


455
00:15:22,716 --> 00:15:24,866
良好训练的 GIS 专业人员


456
00:15:24,866 --> 00:15:26,486
来说很容易使用 但我们认为


457
00:15:26,486 --> 00:15:28,126
可以用一种更简单的方法


458
00:15:28,126 --> 00:15:29,666
来处理这类信息的


459
00:15:30,136 --> 00:15:31,826
IMDF 沙箱是一个


460
00:15:31,826 --> 00:15:33,616
以浏览为基础的工具


461
00:15:33,616 --> 00:15:36,556
可用于 IMDF 可视化


462
00:15:36,556 --> 00:15:38,676
搜索 IMDF 文件 观察验证


463
00:15:38,676 --> 00:15:41,316
并进行简单编辑


464
00:15:41,316 --> 00:15:43,626
这里我打开了一个 IMDF


465
00:15:43,626 --> 00:15:44,906
存档数据集样本


466
00:15:45,086 --> 00:15:46,446
首先 你可以看到一个地图


467
00:15:47,106 --> 00:15:48,846
它呈现了 IMDF 数据


468
00:15:48,846 --> 00:15:50,406
以显示它的样子


469
00:15:51,266 --> 00:15:52,696
这里有一个层级选择器


470
00:15:52,696 --> 00:15:55,876
可以在楼层和指南针之间


471
00:15:55,876 --> 00:15:58,066
切换来显示方向


472
00:15:58,596 --> 00:16:02,066
在左侧 你可以看到一个


473
00:16:02,066 --> 00:16:03,576
目录 它可以帮你


474
00:16:03,576 --> 00:16:05,186
快速访问所有的


475
00:16:05,406 --> 00:16:07,006
业务和服务 从而


476
00:16:07,006 --> 00:16:08,556
浏览并导航数据


477
00:16:16,316 --> 00:16:18,016
或选择建筑或楼层


478
00:16:18,326 --> 00:16:18,976
来浏览数据


479
00:16:28,826 --> 00:16:31,726
顶部有一个搜索栏


480
00:16:31,726 --> 00:16:32,666
你可以在这个数据集内


481
00:16:32,716 --> 00:16:34,636
搜索任何信息


482
00:16:42,236 --> 00:16:43,816
在主页的第一栏


483
00:16:43,816 --> 00:16:45,586
你可以看到所有


484
00:16:45,586 --> 00:16:47,656
数据库引发的


485
00:16:47,656 --> 00:16:49,266
验证错误和警告的链接


486
00:16:50,126 --> 00:16:51,666
验证引擎的功能


487
00:16:51,666 --> 00:16:54,816
和上传 IMDF 到


488
00:16:54,816 --> 00:16:56,496
室内地图程序是一样的


489
00:16:56,496 --> 00:16:58,286
但结果呈现在


490
00:16:58,286 --> 00:17:00,996
可视化的沙箱里


491
00:17:01,386 --> 00:17:02,676
在本例中 没有出现


492
00:17:02,676 --> 00:17:04,636
错误 只有警告


493
00:17:05,236 --> 00:17:06,675
之所以出现警告 是因为


494
00:17:06,675 --> 00:17:08,685
验证器标识了一个可能是


495
00:17:08,945 --> 00:17:11,386
错误或可能被忽略的场景


496
00:17:11,766 --> 00:17:13,226
根据你的业务实例


497
00:17:13,226 --> 00:17:15,136
让了解 IMDF 规范和


498
00:17:15,136 --> 00:17:16,756
验证器生成业务用例


499
00:17:16,756 --> 00:17:19,016
审查警告的人


500
00:17:19,016 --> 00:17:20,766
根据它们的重要性


501
00:17:20,766 --> 00:17:22,136
来做出决策是


502
00:17:22,136 --> 00:17:25,195
至关重要的


503
00:17:25,626 --> 00:17:27,596
让我们来看看如何使用


504
00:17:27,656 --> 00:17:29,516
IMDF 沙箱来发现错误


505
00:17:29,516 --> 00:17:31,216
并进行一些简单的编辑


506
00:17:32,816 --> 00:17:34,246
我在示例数据中


507
00:17:34,246 --> 00:17:35,756
引入了一些错误以说明


508
00:17:35,756 --> 00:17:36,576
它是如何运作的


509
00:17:36,986 --> 00:17:38,616
当我第一次加载 IMDF


510
00:17:38,616 --> 00:17:40,966
归档文件时沙箱显示错误


511
00:17:41,266 --> 00:17:43,066
警告则显示在另一栏


512
00:17:43,616 --> 00:17:45,316
为了让我的 IMDF


513
00:17:45,316 --> 00:17:46,736
能被室内地图程序接收


514
00:17:46,736 --> 00:17:49,076
它不能有任何错误


515
00:17:49,346 --> 00:17:51,036
那么 让我们仔细看一下


516
00:17:51,036 --> 00:17:51,906
来解决这个问题


517
00:17:52,156 --> 00:17:53,616
首先 我们可以看到


518
00:17:53,616 --> 00:17:54,866
有重叠的单元


519
00:17:55,286 --> 00:17:56,986
在 IMDF 中 不应该有重叠单元


520
00:17:57,866 --> 00:17:58,996
所以这是一个错误


521
00:17:59,436 --> 00:18:01,266
仔细观察一下


522
00:18:01,266 --> 00:18:02,776
沙箱显示


523
00:18:02,776 --> 00:18:04,476
在这个数据集中有两个


524
00:18:04,476 --> 00:18:05,266
这种错误的例子


525
00:18:05,566 --> 00:18:06,846
通过点按其中任意一个


526
00:18:07,046 --> 00:18:08,716
地图会跳转到相应位置


527
00:18:08,716 --> 00:18:11,936
并突出显示重叠的单元


528
00:18:12,236 --> 00:18:13,986
此处 蓝色单元


529
00:18:14,126 --> 00:18:16,486
和黄色单元重叠的部分


530
00:18:16,486 --> 00:18:18,166
以橙色显示


531
00:18:19,286 --> 00:18:20,956
沙箱提供了一个


532
00:18:20,956 --> 00:18:22,826
简单的选项


533
00:18:22,826 --> 00:18:24,836
我们可以在两者其一


534
00:18:24,836 --> 00:18:27,426
里删除重叠区域


535
00:18:27,896 --> 00:18:29,246
我选择移除


536
00:18:29,246 --> 00:18:30,806
蓝色单元的重叠部分


537
00:18:30,956 --> 00:18:32,576
因为这样两个单元


538
00:18:32,576 --> 00:18:33,276
就都是矩形


539
00:18:33,576 --> 00:18:34,676
现在 错误就被修正了


540
00:18:35,506 --> 00:18:36,736
让我们看一下另一个


541
00:18:36,736 --> 00:18:38,206
重叠单元错误


542
00:18:38,476 --> 00:18:40,426
这部电梯好像太大了


543
00:18:40,586 --> 00:18:41,936
所以我要把重叠的部分


544
00:18:41,936 --> 00:18:43,666
从电梯里移除


545
00:18:43,956 --> 00:18:46,246
现在 这两个错误都被修正了


546
00:18:46,716 --> 00:18:48,336
现在还需快速


547
00:18:48,336 --> 00:18:50,036
修正另一个错误


548
00:18:50,036 --> 00:18:52,356
因为该单元位于参考楼层之外


549
00:18:52,686 --> 00:18:54,086
可以看到 橙色区域外


550
00:18:54,086 --> 00:18:55,856
的部分看起来像是


551
00:18:55,856 --> 00:18:57,606
文件数字化时


552
00:18:57,606 --> 00:18:58,856
出现的绘图错误


553
00:19:00,046 --> 00:19:01,386
我从楼层中删除了该区域


554
00:19:01,386 --> 00:19:03,636
现在整个文件都


555
00:19:03,636 --> 00:19:04,856
没有错误


556
00:19:05,966 --> 00:19:07,176
因为所有沙箱内的操作


557
00:19:07,176 --> 00:19:08,896
都是在浏览器中完成的


558
00:19:08,896 --> 00:19:10,826
我必须在屏幕右上角


559
00:19:10,826 --> 00:19:13,276
点按下载 IMDF


560
00:19:13,276 --> 00:19:14,666
并保存一份


561
00:19:14,666 --> 00:19:16,356
以保存这些用于注册


562
00:19:16,356 --> 00:19:18,456
和添加回我的内容管理系统


563
00:19:18,456 --> 00:19:20,876
的变更信息


564
00:19:21,646 --> 00:19:23,876
总结一下 IMDF 验证的最佳操作


565
00:19:25,906 --> 00:19:27,426
当你将文件上传到


566
00:19:27,426 --> 00:19:28,626
室内地图程序和


567
00:19:28,626 --> 00:19:30,956
IMDF 沙箱时


568
00:19:31,146 --> 00:19:32,936
也可使用相同的验证工具


569
00:19:33,316 --> 00:19:34,836
他们会在商用实例的范围内


570
00:19:34,836 --> 00:19:36,986
检查你的 IMDF


571
00:19:36,986 --> 00:19:38,966
的准确性和完整性


572
00:19:39,396 --> 00:19:40,746
当一个条件可以应用于


573
00:19:40,746 --> 00:19:43,416
多个实例时 就会出现警告


574
00:19:43,916 --> 00:19:46,206
验证完成并授权


575
00:19:46,206 --> 00:19:47,796
室内定位后 会手动


576
00:19:47,796 --> 00:19:49,176
检查地面 IMDF 位置


577
00:19:49,176 --> 00:19:51,056
或进行地区参考


578
00:19:51,056 --> 00:19:52,946
以确保其在


579
00:19:52,946 --> 00:19:54,526
地面位置的准确性


580
00:19:55,026 --> 00:19:56,936
有了 IMDF 沙箱 你可以


581
00:19:56,936 --> 00:19:59,586
轻松查看 IMDF


582
00:19:59,586 --> 00:20:01,746
并查看详细信息 识别


583
00:20:01,746 --> 00:20:03,976
修复的错误然后保存文件


584
00:20:04,766 --> 00:20:06,416
所有这些工作都


585
00:20:06,416 --> 00:20:08,066
在本地浏览器中完成


586
00:20:08,066 --> 00:20:09,136
不会与 Apple 共享


587
00:20:09,626 --> 00:20:11,536
IMDF 沙箱适用于所有


588
00:20:11,536 --> 00:20:14,036
有 Apple ID 的用户


589
00:20:14,036 --> 00:20:16,056
而非仅适用于室内地图


590
00:20:16,056 --> 00:20:17,356
程序中的物业业主


591
00:20:17,866 --> 00:20:20,656
这就是 IMDF 验证


592
00:20:21,056 --> 00:20:22,526
现在 我们知道了如何加入


593
00:20:22,526 --> 00:20:24,796
室内地图程序 创建


594
00:20:24,796 --> 00:20:27,166
并验证 IMDF


595
00:20:27,886 --> 00:20:29,746
下一步是启用 Apple 室内定位


596
00:20:31,706 --> 00:20:33,406
但首先 我们需要了解


597
00:20:33,566 --> 00:20:35,966
Apple 室内定位是如何运行的


598
00:20:36,556 --> 00:20:38,606
想象一个平静的池塘


599
00:20:38,606 --> 00:20:40,196
一滴雨落在水面上


600
00:20:41,236 --> 00:20:42,416
雨滴引起的波纹


601
00:20:42,416 --> 00:20:43,616
很像从接入点


602
00:20:43,616 --> 00:20:45,496
发出的信号


603
00:20:45,736 --> 00:20:47,566
一滴 便是一串涟漪


604
00:20:48,096 --> 00:20:50,126
但是有了更多雨滴


605
00:20:50,126 --> 00:20:51,666
就会激起更多波纹


606
00:20:51,666 --> 00:20:53,156
这些波纹相互交叉


607
00:20:53,156 --> 00:20:54,806
在波纹上形成一个网格


608
00:20:54,806 --> 00:20:57,236
在每个网格内


609
00:20:57,236 --> 00:20:58,526
就会有一个独特的


610
00:20:58,526 --> 00:21:00,326
波纹纹理图案


611
00:21:00,326 --> 00:21:01,746
我们称之为指纹


612
00:21:02,306 --> 00:21:04,296
IMDF 地图为网格中的


613
00:21:04,296 --> 00:21:06,366
每个区域提供纬度


614
00:21:06,366 --> 00:21:07,956
经度和楼层坐标


615
00:21:07,956 --> 00:21:09,936
允许定位服务


616
00:21:09,936 --> 00:21:11,476
将坐标和指纹


617
00:21:11,626 --> 00:21:13,776
进行配对


618
00:21:14,256 --> 00:21:15,936
当你的 iPhone 或 iPad


619
00:21:15,936 --> 00:21:17,296
进入大楼时


620
00:21:17,296 --> 00:21:18,946
你的指纹会从核心定位


621
00:21:18,946 --> 00:21:21,036
服务器下载到设备上


622
00:21:21,396 --> 00:21:23,166
完成这一步骤后


623
00:21:23,166 --> 00:21:24,906
当然设备必须连上 Wi-Fi


624
00:21:24,906 --> 00:21:26,706
它就不再需要


625
00:21:26,706 --> 00:21:28,026
连接网络来


626
00:21:28,026 --> 00:21:29,276
进行定位


627
00:21:29,616 --> 00:21:31,196
当 App 调用


628
00:21:31,196 --> 00:21:33,216
最佳定位精度时


629
00:21:33,216 --> 00:21:34,376
设备会被动查看指纹


630
00:21:34,376 --> 00:21:36,406
进行设备上的模式匹配


631
00:21:36,406 --> 00:21:38,166
获取坐标并


632
00:21:38,166 --> 00:21:40,606
绘制定位点


633
00:21:41,116 --> 00:21:42,986
然后使用局部传感器


634
00:21:42,986 --> 00:21:44,826
使定位点保持更新


635
00:21:44,826 --> 00:21:46,436
直到设备再次


636
00:21:46,436 --> 00:21:48,156
查看指纹


637
00:21:48,716 --> 00:21:50,076
Apple 室内定位速度惊人


638
00:21:50,076 --> 00:21:52,366
功耗低 而且很私密


639
00:21:53,426 --> 00:21:56,216
简言之 一张室内地图


640
00:21:56,216 --> 00:21:58,746
加上 Wi-Fi 就能显示定位


641
00:21:59,336 --> 00:22:01,156
启用室内定位的


642
00:22:01,156 --> 00:22:03,076
具体步骤是通过


643
00:22:03,166 --> 00:22:05,086
你的账户中已经加载的 IMDF


644
00:22:05,086 --> 00:22:07,206
用调查 App 采集 Wi-Fi


645
00:22:07,206 --> 00:22:09,026
将调查结果上传到


646
00:22:09,026 --> 00:22:10,576
核心定位服务器


647
00:22:10,576 --> 00:22:12,396
进行分析和激活


648
00:22:12,396 --> 00:22:14,236
然后在测量 App


649
00:22:14,236 --> 00:22:16,196
里测试定位


650
00:22:16,196 --> 00:22:17,426
作为质量参考


651
00:22:17,606 --> 00:22:19,466
让我们快速演示一下


652
00:22:19,466 --> 00:22:22,316
测量和测试定位


653
00:22:23,376 --> 00:22:24,986
在测量过程中


654
00:22:24,986 --> 00:22:26,876
把屏幕上的点


655
00:22:26,876 --> 00:22:28,026
作为你在现实世界中


656
00:22:28,026 --> 00:22:29,296
所处位置的视觉标记


657
00:22:29,806 --> 00:22:30,986
定位算法就是这样


658
00:22:30,986 --> 00:22:33,396
校准到你的位置


659
00:22:34,426 --> 00:22:35,846
此处 你可以看到测量人员


660
00:22:35,846 --> 00:22:37,756
已经在房间和屏幕上


661
00:22:38,106 --> 00:22:40,696
确定了方向并开始记录


662
00:22:41,396 --> 00:22:42,546
然后测量者把十字线


663
00:22:42,546 --> 00:22:44,196
移到下一个位置


664
00:22:44,196 --> 00:22:45,846
5 到 8 米外的一个


665
00:22:45,846 --> 00:22:47,046
他可以验证的地方


666
00:22:47,216 --> 00:22:48,836
当在那个位置时 轻点屏幕


667
00:22:48,836 --> 00:22:50,496
记录下这个点


668
00:22:51,296 --> 00:22:52,846
请注意 当他轻点屏幕


669
00:22:52,846 --> 00:22:54,286
并校准测量时 他的脚


670
00:22:54,286 --> 00:22:56,336
越过了地板上的网格线


671
00:22:57,256 --> 00:22:59,206
在转角时 测量者


672
00:22:59,206 --> 00:23:00,546
以直角转弯


673
00:23:00,726 --> 00:23:03,056
旋转屏幕 轻点并继续前进


674
00:23:03,416 --> 00:23:05,336
彩色区域表示


675
00:23:05,336 --> 00:23:06,936
捕获的 Wi-Fi 信号


676
00:23:07,296 --> 00:23:08,726
当地面全部显色后


677
00:23:08,726 --> 00:23:10,416
该区域就会被指纹识别


678
00:23:10,416 --> 00:23:11,886
就可以进行


679
00:23:11,886 --> 00:23:12,816
数据上传


680
00:23:13,346 --> 00:23:14,816
一旦测量数据处理完毕


681
00:23:14,816 --> 00:23:16,846
就会通知你


682
00:23:16,846 --> 00:23:18,206
室内定位已就绪


683
00:23:19,106 --> 00:23:21,126
切换隐私 位置服务


684
00:23:21,126 --> 00:23:23,406
以刷新位置缓存


685
00:23:24,056 --> 00:23:25,676
然后你可以开始测试


686
00:23:25,886 --> 00:23:27,876
室内定位的准确性


687
00:23:28,846 --> 00:23:30,186
如果定位成功


688
00:23:30,186 --> 00:23:31,806
地图将在测试模式下显示


689
00:23:32,126 --> 00:23:33,956
绿色区域代表


690
00:23:33,956 --> 00:23:35,526
所有已上传并成功


691
00:23:35,646 --> 00:23:37,186
进行的测量


692
00:23:37,396 --> 00:23:39,126
蓝点为定位估计的


693
00:23:39,126 --> 00:23:40,936
中心点 浅蓝色


694
00:23:40,936 --> 00:23:42,186
圆形区域为精确的


695
00:23:42,186 --> 00:23:44,176
置信范围


696
00:23:44,936 --> 00:23:47,376
在这 可以看到置信圈


697
00:23:47,376 --> 00:23:48,946
在 Apple 室内定位的


698
00:23:48,946 --> 00:23:50,816
3 到 5 米的


699
00:23:50,816 --> 00:23:52,656
估计范围内


700
00:23:52,656 --> 00:23:54,156
并且能在较小的环境下


701
00:23:54,156 --> 00:23:55,596
很好地跟随测试者


702
00:23:55,856 --> 00:23:57,366
在 IMDF 中包含


703
00:23:57,366 --> 00:23:59,516
诸如表格之类的固定内容


704
00:23:59,516 --> 00:24:00,686
会增加对定位服务


705
00:24:00,686 --> 00:24:02,786
的约束 同时提高精确性


706
00:24:04,166 --> 00:24:05,476
让我们回顾一下室内定位


707
00:24:05,476 --> 00:24:07,156
是如何运作并被授权的


708
00:24:08,736 --> 00:24:10,526
Apple 室内定位使用


709
00:24:10,526 --> 00:24:11,896
Wi-Fi 指纹


710
00:24:12,156 --> 00:24:14,246
它被动使用建筑物内


711
00:24:14,246 --> 00:24:16,176
的任何 Wi-Fi 信号


712
00:24:16,176 --> 00:24:18,006
不会对网络产生任何影响


713
00:24:18,636 --> 00:24:20,206
室内定位是通过


714
00:24:20,206 --> 00:24:22,276
室内测量 App


715
00:24:22,276 --> 00:24:24,216
和室内地图程序提供的


716
00:24:24,216 --> 00:24:25,546
IMDF 来实现的


717
00:24:26,156 --> 00:24:28,116
测量并不困难


718
00:24:28,116 --> 00:24:29,946
但如果想成功


719
00:24:29,946 --> 00:24:30,966
就必须遵循以下步骤


720
00:24:31,826 --> 00:24:33,546
每个测量地点的人


721
00:24:33,686 --> 00:24:35,096
都应该拥有相同型号的


722
00:24:35,176 --> 00:24:37,626
iPhone 相同版本的 iOS


723
00:24:37,926 --> 00:24:39,586
每隔 5 到 8 米


724
00:24:39,586 --> 00:24:41,586
放下一个指针 然后继续


725
00:24:41,586 --> 00:24:42,556
平稳地走下去


726
00:24:43,076 --> 00:24:44,696
保持在走道中心


727
00:24:44,696 --> 00:24:46,186
以确保墙壁在你的


728
00:24:46,186 --> 00:24:47,966
定位限制之内


729
00:24:48,256 --> 00:24:50,276
测量时不要使用


730
00:24:50,276 --> 00:24:52,306
iPhone 上的任何机箱


731
00:24:52,656 --> 00:24:54,646
阅读有关模式的帮助文档


732
00:24:54,646 --> 00:24:57,026
了解启用特定类型


733
00:24:57,026 --> 00:24:58,416
的建筑物和定位


734
00:24:58,416 --> 00:25:00,826
例子的技巧


735
00:25:01,166 --> 00:25:03,886
最后 既然我们有了


736
00:25:03,886 --> 00:25:06,496
IMDF 和室内定位 我们如何


737
00:25:06,496 --> 00:25:08,786
将其放入 App 和网站中呢


738
00:25:09,246 --> 00:25:11,606
MapKit and MapKit JS 支持


739
00:25:11,606 --> 00:25:13,006
解码和显示


740
00:25:13,006 --> 00:25:14,386
GeoJSON 文件


741
00:25:14,736 --> 00:25:16,276
你可以使用这些框架


742
00:25:16,276 --> 00:25:18,776
在地图上以覆盖和注释


743
00:25:18,956 --> 00:25:20,646
的形式显示 IMDF 数据


744
00:25:21,206 --> 00:25:23,026
设计你的室内地图元素


745
00:25:23,026 --> 00:25:24,546
对于如何感知和使用


746
00:25:24,546 --> 00:25:26,086
地图非常重要


747
00:25:26,366 --> 00:25:28,076
要应用与 App 主题或


748
00:25:28,076 --> 00:25:30,396
公司品牌相匹配的样式


749
00:25:30,686 --> 00:25:33,126
要获得丰富的室内体验


750
00:25:33,346 --> 00:25:35,476
你可以通过启用


751
00:25:35,476 --> 00:25:37,186
建筑内 Apple


752
00:25:37,186 --> 00:25:38,996
的室内定位


753
00:25:38,996 --> 00:25:41,146
然后用核心位置框架


754
00:25:41,146 --> 00:25:43,046
中的 API


755
00:25:43,046 --> 00:25:45,536
在室内显示用户位置


756
00:25:45,796 --> 00:25:47,336
要了解更多信息


757
00:25:47,336 --> 00:25:49,266
请在你的 App 和网站上


758
00:25:49,266 --> 00:25:52,586
查看我们在 WWDC 上名为“在你的


759
00:25:52,586 --> 00:25:53,976
App 和网站添加地图”的会议


760
00:25:55,356 --> 00:25:57,246
以上就是室内地图项目


761
00:25:57,466 --> 00:25:58,806
我们期待看到你


762
00:25:58,806 --> 00:26:00,336
构建出色的 App


763
00:26:00,726 --> 00:26:02,576
非常感谢你的收看


764
00:26:02,576 --> 00:26:04,796
更多信息 请访问


765
00:26:04,796 --> 00:26:05,616
我们的网站


766
00:26:05,616 --> 00:26:08,446
register.apple.com/indoor

